<html>
<head>
</head>
<body style="background: transparent;">
	<script src="../_assets/scripts/jsdoc.theme.docstrap.lib.js"></script>
	<script src="../_assets/scripts/jsdoc.theme.lunr.min.js"></script>
	<script src="../_assets/scripts/jsdoc.theme.fulltext-search.js"></script>

	<script type="text/x-docstrap-searchdb">
	{"global.html":{"id":"global.html","title":"Global","body":" Global Методы getFolders(dirs) Получение директорий для конката внутренних файлов Параметры: Имя Тип Описание dirs string | Array путь к директориям Возвращает: Path module:tasks/_extract-media-mq(extractMqFrom) Модуль екстракта указанных медиа-запросов из оригинального css файла в отдельные файлы.Пример конфига extractMqFrom: { 'style.css': { print: 'print', sm: 'only screen and (min-width: 481px)', md: 'only screen and (min-width: 769px)', lg: 'only screen and (min-width: 1025px)', xl: 'only screen and (min-width: 1281px)' } }Пример pipe .pipe($.if( (options.isProduction &amp;&amp; !!options.extractMqFrom), extractMq(options.extractMqFrom) )) Туториалы: Компиляция стилей Для работы необходимы: https://www.npmjs.com/package/rework https://www.npmjs.com/package/rework-split-media https://www.npmjs.com/package/rework-move-media https://www.npmjs.com/package/css-stringify https://www.npmjs.com/package/clean-up-string https://www.npmjs.com/package/through2 https://www.npmjs.com/package/path Параметры: Имя Тип Описание extractMqFrom Object список файлов из которых нужно делать экстракт extractMqFrom[].fileRelativeKey Object набор медиа-запросов для экстракта из файла Свойтсва Имя Тип Описание extractMqName string значения медиа-запроса Возвращает: Stream Исходный код: module.exports = function(extractMqFrom) { return throughObj(function(file, enc, callback) { let stream = this; let fileKey = file.relative; if (extractMqFrom.hasOwnProperty(fileKey)) { let fileName = file.stem; let extractData = extractMqFrom[fileKey]; let cssContent = file.contents.toString(); let reworkData = rework(cssContent).use(moveMedia()); let stylesheets = splitMedia(reworkData); let stylesheetKeys = Object.keys(stylesheets); let filteredMq = []; let originalCSS = []; stylesheetKeys.forEach(function(key) { let notExtracted = true; for (let mqKey in extractData) { if (key === extractData[mqKey]) { let contents = stringify(stylesheets[key]); filteredMq.push([mqKey, contents]); notExtracted = false; break; } } if (notExtracted) { let contents = stringify(stylesheets[key]); if (key.length) { originalCSS.push(`@media ${key} {\\n${contents}\\n}`); } else { originalCSS.push(contents); } } }); filteredMq.forEach(function(key) { let newFile = file.clone({ contents: false }); let name = cleanUpString(`${fileName}-${key[0]}`); let filepath = pathjoin(dirname(file.path), `${name}.css`); newFile.contents = new Buffer(key[1]); newFile.path = filepath; stream.push(newFile); }); file.contents = new Buffer(originalCSS.join('\\n')); callback(null, file); } else { callback(null, file); } }); } module:tasks/clean(options) Модуль очистки (удаления) указанной директории или файлов.Для экспорта модуля в задачу используеться метод lazyRequireTask.В параметрах задачи ( src ) необходимо указать путь к директории или файлам которые нужно удалить. При успешном выполнении вы получите лог уведомление в терминале (если не выключен флаг log). Если указанный источник не будет обнаружен - вы получите сообщение [URL] - not exist При ошибке удаления - в терминале будет уведомление, с описанием ошибки. Такой результат будет считаться критическим поэтому node процесс будет остановлен. Для работы необходимы: https://www.npmjs.com/package/del https://www.npmjs.com/package/path module:tasks/_helpers Параметры: Имя Тип Описание options Object передаваемые параметры Свойтсва Имя Тип Аргумент По умолчанию Описание taskName string имя вызывающей задачи, задаеться автоматически isDevelop boolean флаг dev версии сборки, задаеться автоматически isProduction boolean флаг production версии сборки, задаеться автоматически package Object данные из package.json, задаеться автоматически src string | Array путь к директории или файлам которые нужно удалить log boolean &lt;опционально&gt; true флаг вывода лог уведомления при успешном действии Возвращает: Promise Исходный код: /** * Модуль очистки (удаления) указанной директории или файлов. * Для экспорта модуля в задачу используеться метод lazyRequireTask. * В параметрах задачи ( `src` ) необходимо указать путь к директории или файлам которые нужно удалить. * - При успешном выполнении вы получите лог уведомление в терминале (если не выключен флаг `log`). Если указанный источник не будет обнаружен - вы получите сообщение `[URL] - not exist` * - При ошибке удаления - в терминале будет уведомление, с описанием ошибки. Такой результат будет считаться критическим поэтому node процесс будет остановлен. * * * * @sourcecode code:tasks:clean -c * * @requires https://www.npmjs.com/package/del * @requires https://www.npmjs.com/package/path * @requires module:tasks/_helpers * * @param {Object} options - передаваемые параметры * @param {string} options.taskName - имя вызывающей задачи, *задаеться автоматически* * @param {boolean} options.isDevelop - флаг dev версии сборки, *задаеться автоматически* * @param {boolean} options.isProduction - флаг production версии сборки, *задаеться автоматически* * @param {Object} options.package - данные из `package.json`, *задаеться автоматически* * @param {string|Array} options.src - путь к директории или файлам которые нужно удалить * @param {boolean} [options.log=true] - флаг вывода лог уведомления при успешном действии * * @return {Promise} */ module.exports = function(options) { // возврашаем функцию для задачи return function(cb) { // возвращаем Promise return del(options.src) // после выполнения .then( paths =&gt; { // если log не отключен if (options.log !== false) { // если источник не найден заменяем текст if (paths &amp;&amp; paths.length === 0) { paths = `${options.src} - not exist`; } // выводим уведомление _helpers.logMsg(paths, 'del'); } }, error =&gt; { // выводим ошибку (критическую) _helpers.logError(error, true); } ); }; } module:tasks/ejs(options) Модуль компиляции ejs файлов. Туториалы: Компиляция разметки Связанные материалы: http://ejs.co/ https://github.com/RandomEtc/ejs-locals/ Для работы необходимы: gulpjs/gulp#4.0 https://www.npmjs.com/package/multipipe https://www.npmjs.com/package/gulp-load-plugins https://www.npmjs.com/package/gulp-if https://www.npmjs.com/package/gulp-ejs-locals https://www.npmjs.com/package/gulp-html-beautify https://www.npmjs.com/package/gulp-changed https://www.npmjs.com/package/gulp-rename https://www.npmjs.com/package/gulp-notify module:tasks/_modules-params To Do: Написать подробные туториалы по работе и составлению разметки Написать внутренней роутер, для удобства подлючения файлов, с авто определением относительных путей Параметры: Имя Тип Описание options Object передаваемые параметры Свойтсва Имя Тип Аргумент По умолчанию Описание taskName string имя вызывающей задачи, задаеться автоматически isDevelop boolean флаг dev версии сборки, задаеться автоматически isProduction boolean флаг production версии сборки, задаеться автоматически package Object данные из package.json, задаеться автоматически dest string путь к итоговой директории src string путь к исходной директории changeExt string &lt;опционально&gt; сменить расширение файла, при указании, должно содержать точку вначале locals Object обект глобальных данных, которые будут доступны внутри всех *.ejs файлов Свойтсва Имя Тип Описание _projectName string Имя проекта _projectResponsive boolean флаг адаптавности _projectWezom boolean проект студии Wezom beautify boolean флаг форматирования скомпелированного html кода beautifyConfig Object &lt;опционально&gt; пользовательские параметры для gulp-html-beautify. параметры по умолчанию - modulesParams#gulpHtmlBeautify watch Array &lt;опционально&gt; набор путей, для вотчинга filter boolean &lt;опционально&gt; true флаг исрользования фильтровки файлов notify boolean &lt;опционально&gt; false выводить уведомление по окончанию трансфера notifyOn string &lt;опционально&gt; 'last' метод уведомления, параметр передается дальше методу modulesParams#gulpNotify notifyTime number &lt;опционально&gt; 2000 время показа уведомления, параметр передается дальше методу modulesParams#gulpNotify notifyIsShort boolean &lt;опционально&gt; false выводить краткое уведомдение - только количество файлов, параметр воздействует только при опции notifyOn:'last'. Параметр передается дальше методу modulesParams#gulpNotify Возвращает: function Исходный код: module.exports = function(options) { // возврашаем функцию для задачи return function(cb) { // vars // ======== // список скомпилированных файлов let receivedFilesList = []; // флаг фильтровки let isFilter = options.filter !== false; let ejsLocals = options.locals || {}; ejsLocals._getActiveFile = (filepath) =&gt; { let _filename = filepath.split('\\\\').pop().split('.'); _filename.pop(); return _filename.join('.'); } // streams // ======== // составление multipipe компиляции let streamEjs = multipipe( $.ejsLocals(ejsLocals), $.if( options.beautify, $.htmlBeautify(_modulesParams.gulpHtmlBeautify(options.beautifyConfig)) ) ).on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`compile - ${options.taskName}`)) ); // task // ======== return gulp.src(options.src) // компиляция .pipe(streamEjs) // если нужно сменить расширенние файла .pipe($.if( !!options.changeExt, $.rename((path) =&gt; { path.extname = options.changeExt; }) )) // фильтровка изменений в стриме .pipe($.if( isFilter, $.changed( options.dest, { hasChanged: $.changed.compareSha1Digest } ) )) .pipe(gulp.dest(options.dest)) .on('data', (file) =&gt; { receivedFilesList.push(file.relative); }) .pipe($.if( options.notify, $.notify(_modulesParams.gulpNotify(options, receivedFilesList, 'compiled')) )) .pipe($.if( options.browserSyncReload, options.browserSync.stream({ once: true }) )); }; } module:tasks/htmldoc(options) Документация html файлов, на основе комментариев и gulp-jsdoc3 Туториалы: Документация HTML файлов Связанные материалы: module:tasks/jsdoc ./tasks/jsdoc-theme/jsdoc.conf.json Для работы необходимы: gulp#4 https://www.npmjs.com/package/gulp-jsdoc3 https://www.npmjs.com/package/through2 module:tasks/_modules-params To Do: Составить больше примеров использования модуля и вариаций документации кода Параметры: Имя Тип Описание options Object передаваемые параметры Свойтсва Имя Тип Описание taskName string имя вызывающей задачи, задаеться автоматически isDevelop boolean флаг dev версии сборки, задаеться автоматически isProduction boolean флаг production версии сборки, задаеться автоматически package Object данные из package.json, задаеться автоматически systemName string тайтл документации tutorials string путь к директории туториалов для раздела документации tmpFiles string директория для темповских файлов tmpMD string темповские файл где будут вписанны все @todo записи, со всех найденных страниц dest string путь к директории итоговой документации src string | Array путь к документируемым файлам Возвращает: function Исходный код: module.exports = function(options) { return function(cb) { // составление конфигурации для jsdoc модуля _modulesParams.jsdoc3Config(options, jsdocConfig); // указываем флаг htmldoc jsdocConfig.htmldoc = true; // объект для сбора найденых `@todo` пунктов let mdTokens = {}; gulp.src(options.src) // парсим каждый файл .pipe(throughObj((file, enc, callback) =&gt; { // если markdown файл (индексовый) if (file.extname == '.md') { let mdFile = new Vinyl({ path: `${options.tmpFiles}/${file.relative}`, contents: file.contents }); callback(null, mdFile); // если html файл } else if (file.extname == '.html') { let markup = file.contents.toString(); let tokens = []; let filename; let starts = [] let startIndex = 0; let tmpMarkup = markup; function replacer(str, p1, p2, offset, s) { var num = tmpMarkup.indexOf(str); starts.push(num); var _r = ''; for (var i = 0; i &lt; str.length; i++) { _r += ' '; } var start = tmpMarkup.slice(0, num); var end = tmpMarkup.slice(num + str.length); tmpMarkup = start + _r + end; } // ищем комментарии с тегом `@htmldoc` tmpMarkup.replace(regexComment, replacer); markup.replace(regexComment, (comment, p1, p2, offset, s) =&gt; { // получаем номер строки let num = starts[startIndex++]; let lines = markup.slice(0, num).split('\\n'); let lineno = lines.length; // отсекаем лишние куски комментария let task = comment.replace(regexTodoStart, ''); task = task.replace(regexTodoEnd, '').split('\\n'); let length = task.length; // формируем текст комментария if (length &gt; 1) { let last = task[length - 1]; let indent; last.replace(/^(\\s|\\t)*/, (space) =&gt; { indent = space; }); task.forEach((entry, i) =&gt; { task[i] = entry.replace(indent, ''); }); } task = task.join('\\n'); // имя файла filename = file.relative; // состовляем блок для `jsdoc` комментария tokens.push({ filename, comment, task, lineno }); // составляем блок для `markdown` страницы со списком `todo` пунктов let mdTask = []; task.replace(regexTodo, (todoTask) =&gt; { mdTask.push(`- ${todoTask.slice(6)}`); }); if (mdTask.length) { _helpers.setNewPropToObject(mdTokens, filename, []); mdTokens[filename].push({ lineno: `**todo** -&gt; *lineno* \\` ${lineno} \\`\\n`, task: mdTask.join('\\n') }); } }); // если найдены и составлены блоки if (tokens.length) { // начало js файла let pageContent = [ jsCommentStart, jsCommentHtmlDocs, jsCommentNS(filename), jsCommentEnd ]; // наполняем js файл составлеными `jsdoc` комментами tokens.forEach((entry, i) =&gt; { let jsCommentList = [ jsCommentStart, entry.task, jsCommentMember(filename), jsCommentLine(entry.lineno), jsCommentEnd, jsCommentPoint(i+1) ]; pageContent.push(jsCommentList.join('\\n')); }); // создаем js файл filename = filename.split('.'); filename.pop(); let jsFile = new Vinyl({ path: `${options.tmpFiles}/${filename.join('.')}.js`, contents: new Buffer(pageContent.join('\\n')) }); callback(null, jsFile); } else { callback(); } } else { callback(); } }, (callback) =&gt; { // после прохода всех файлов создадим темповский md файл if (Object.keys(mdTokens).length) { let mdFileConent = [`\\n-----\\n\\n### TODO List\\n`] for (let page in mdTokens) { mdFileConent.push(`#### ${page}\\n`); for (var i = 0; i &lt; mdTokens[page].length; i++) { let pageContent = mdTokens[page][i]; mdFileConent.push(`${pageContent.lineno}`); mdFileConent.push(`${pageContent.task}\\n`); } } mdFileConent.push('-----\\n'); _helpers.writeFile(`${options.tmpMD}`, mdFileConent.join('\\n')); } callback(); })) // сохраняем все полученные файлы .pipe(gulp.dest('./')) // отправляем модулю `gulp-jsdoc` .pipe(jsdoc3(jsdocConfig, cb)); }; } module:tasks/js(options) Модуль компиляции js файлов. Туториалы: Компиляция скриптов Для работы необходимы: gulpjs/gulp#4.0 https://www.npmjs.com/package/multipipe https://www.npmjs.com/package/gulp-load-plugins https://www.npmjs.com/package/gulp-if https://www.npmjs.com/package/gulp-changed https://www.npmjs.com/package/gulp-notify https://www.npmjs.com/package/gulp-concat https://www.npmjs.com/package/gulp-include https://www.npmjs.com/package/gulp-wrap module:tasks/_modules-params Параметры: Имя Тип Описание options Object передаваемые параметры Свойтсва Имя Тип Аргумент По умолчанию Описание taskName string имя вызывающей задачи, задаеться автоматически isDevelop boolean флаг dev версии сборки, задаеться автоматически isProduction boolean флаг production версии сборки, задаеться автоматически package Object данные из package.json, задаеться автоматически dest string путь к итоговой директории src string путь к исходной директории concat boolean &lt;опционально&gt; конкат файлов changeExt string &lt;опционально&gt; сменить расширение файла, при указании, должно содержать точку вначале watch Array &lt;опционально&gt; набор путей, для вотчинга filter boolean &lt;опционально&gt; true флаг исрользования фильтровки файлов notify boolean &lt;опционально&gt; false выводить уведомление по окончанию трансфера notifyOn string &lt;опционально&gt; 'last' метод уведомления, параметр передается дальше методу modulesParams#gulpNotify notifyTime number &lt;опционально&gt; 2000 время показа уведомления, параметр передается дальше методу modulesParams#gulpNotify notifyIsShort boolean &lt;опционально&gt; false выводить краткое уведомдение - только количество файлов, параметр воздействует только при опции notifyOn:'last'. Параметр передается дальше методу modulesParams#gulpNotify Возвращает: function Исходный код: module.exports = function(options) { // возврашаем функцию для задачи return function(cb) { // vars // ======== // флаг фильтровки let isFilter = options.filter !== false; // флаг конката let isConcat = options.concat == true; // streams // ======== // составление multipipe компиляции modernizr.js let streamModernizr = multipipe( $.modernizr(options.modernizrConfig || {}), throughObj((file, enc, callback) =&gt; { if (file.extname === ) { return callback(null, file); } return callback(); }) ).on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`modernizr - ${options.taskName}`)) ); // составление multipipe для линтинга css let streamEsLint = multipipe( $.if((file) =&gt; { return (file.extname === '.js' &amp;&amp; file.relative.split('\\\\')[0] !== 'vendor'); }, multipipe( $.eslint(_modulesParams.gulpEsLintConfig(options.eslintConfig)), $.eslint.format(), $.eslint.failAfterError(), // если есть ошибки - fail $.if((file) =&gt; { return !!file.eslint.errorCount; }, multipipe( throughObj((file, enc, callback) =&gt; { return callback(); }) ) ), // если есть предупреждения - notify $.if((file) =&gt; { return !!file.eslint.warningCount; }, $.notify({ title: `ESLint WARN`, message: `` }) ) ) ) ).on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`ESLint - ${options.taskName}`)) ); // task // ======== if (isConcat) { var folders = options.getFolders(options.src); folders.map(function (folder) { let files = []; let source = path.join(options.src, folder, '*.js'); gulp.src(source) .pipe(multipipe( $.if( options.maps, $.sourcemaps.init() ), $.include(), $.wrap('\\n/* &lt;%= file.relative %&gt;\\n ================================== */\\n&lt;%= contents %&gt;\\n'), $.concat(`${folder}/${folder}.js`), $.if( options.min, $.uglify(_modulesParams.gulpUglifyConfig(options.minConfig)) ), $.if( options.maps, $.sourcemaps.write('/') ) ).on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`Stream - ${options.taskName}`)) ) ) .pipe($.if( isFilter, $.changed( options.dest, { hasChanged: $.changed.compareSha1Digest } ) )) .pipe(gulp.dest(options.dest)) .on('data', (file) =&gt; { files.push(file.relative); }) .pipe($.if( options.notify, $.notify(_modulesParams.gulpNotify(options, files, 'compiled')) )) .pipe($.if( options.browserSyncReload, options.browserSync.stream() )); }); cb(); } else { // список скомпилированных файлов let receivedFilesList = []; return gulp.src(options.src) .pipe(multipipe( $.if( options.modernizr, streamModernizr ), $.if( options.maps, $.sourcemaps.init() ), $.if( options.min, $.uglify(_modulesParams.gulpUglifyConfig(options.minConfig)) ), $.if( options.eslint, streamEsLint ), $.if( options.maps, $.sourcemaps.write('/') ), $.if((/\\.js$/ &amp;&amp; !!options.changeExt), $.rename((path) =&gt; { path.extname = options.changeExt; }) ), $.if(isFilter, $.changed( options.dest, {hasChanged: $.changed.compareSha1Digest} ) ) ).on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`Stream - ${options.taskName}`)) ) ) .pipe(gulp.dest(options.dest)) .on('data', (file) =&gt; { receivedFilesList.push(file.relative); }) .pipe($.if( options.notify, $.notify(_modulesParams.gulpNotify(options, receivedFilesList, 'compiled')) )) .pipe($.if( options.browserSyncReload, options.browserSync.stream() )); } }; } module:tasks/jsdoc(options) Документация js файлов, на основе комментариев jsdoc Туториалы: Документация JS файлов Документация GULP сборки Tutorial: jsdoc Связанные материалы: ./tasks/jsdoc-theme/jsdoc.conf.json Для работы необходимы: gulp#4 https://www.npmjs.com/package/gulp-jsdoc3 module:tasks/_modules-params To Do: Составить больше примеров использования модуля и вариаций документации кода Параметры: Имя Тип Описание options Object передаваемые параметры Свойтсва Имя Тип Описание taskName string имя вызывающей задачи, задаеться автоматически isDevelop boolean флаг dev версии сборки, задаеться автоматически isProduction boolean флаг production версии сборки, задаеться автоматически package Object данные из package.json, задаеться автоматически systemName string тайтл документации tutorials string путь к директории туториалов для раздела документации dest string путь к директории итоговой документации src string | Array путь к документируемым файлам Возвращает: function Исходный код: /** * Документация `js` файлов, на основе комментариев `jsdoc` * * * * @todo Составить больше примеров использования модуля и вариаций документации кода * * @moduleLocal * @sourcecode code:tasks:jsdoc -c * * @tutorial docs-js * @tutorial docs-gulp * @tutorial jsdoc * * @see ./tasks/jsdoc-theme/jsdoc.conf.json * * @requires gulp#4 * @requires https://www.npmjs.com/package/gulp-jsdoc3 * @requires module:tasks/_modules-params * * @param {Object} options - передаваемые параметры * @param {string} options.taskName - имя вызывающей задачи, *задаеться автоматически* * @param {boolean} options.isDevelop - флаг dev версии сборки, *задаеться автоматически* * @param {boolean} options.isProduction - флаг production версии сборки, *задаеться автоматически* * @param {Object} options.package - данные из `package.json`, *задаеться автоматически* * @param {string} options.systemName - тайтл документации * @param {string} options.tutorials - путь к директории туториалов для раздела документации * @param {string} options.dest - путь к директории итоговой документации * @param {string|Array} options.src - путь к документируемым файлам * * @return {Function} */ module.exports = function(options) { // возвращаем задачу return function(cb) { // расширяем системный конфиг jsdoc на основе пользовательских параметров _modulesParams.jsdoc3Config(options, jsdocConfig); // генерация документации gulp.src(options.src, {read: false}) .pipe(jsdoc3(jsdocConfig, cb)); }; } module:tasks/sass(options) Модуль компиляции scss файлов. Туториалы: Компиляция стилей Для работы необходимы: gulpjs/gulp#4.0 https://www.npmjs.com/package/multipipe https://www.npmjs.com/package/through2 https://www.npmjs.com/package/gulp-load-plugins https://www.npmjs.com/package/gulp-if https://www.npmjs.com/package/gulp-sass https://www.npmjs.com/package/gulp-autoprefixer https://www.npmjs.com/package/gulp-sourcemaps https://www.npmjs.com/package/gulp-cssnano https://www.npmjs.com/package/gulp-sass-lint https://www.npmjs.com/package/gulp-csslint https://www.npmjs.com/package/gulp-changed https://www.npmjs.com/package/gulp-combine-mq https://www.npmjs.com/package/gulp-rename https://www.npmjs.com/package/gulp-notify module:tasks/_modules-params Параметры: Имя Тип Описание options Object передаваемые параметры Свойтсва Имя Тип Аргумент По умолчанию Описание taskName string имя вызывающей задачи, задаеться автоматически isDevelop boolean флаг dev версии сборки, задаеться автоматически isProduction boolean флаг production версии сборки, задаеться автоматически package Object данные из package.json, задаеться автоматически dest string путь к итоговой директории src string путь к исходной директории changeExt string &lt;опционально&gt; сменить расширение файла, при указании, должно содержать точку вначале watch Array &lt;опционально&gt; набор путей, для вотчинга sassConfig Object &lt;опционально&gt; пользовательские параметры компиляции sass файлов. параметры по умолчанию - modulesParams#gulpSassConfig autoprefixerConfig Object &lt;опционально&gt; пользовательские параметры для gulp-autoprefixer. параметры по умолчанию - modulesParams#gulpAutoprefixerConfig maps boolean флаг записи sourcemaps min boolean флаг минификации minConfig Object &lt;опционально&gt; пользовательские параметры минификации для gulp-cssnano. параметры по умолчанию - modulesParams#gulpCssnanoConfig sasslint boolean флаг линтинга sass файлов sasslintConfig Object &lt;опционально&gt; пользовательские параметры линтинга. параметры по умолчанию - modulesParams#gulpSassLintConfig csslint boolean флаг линтинга скомпилированных файлов csslintConfig Object &lt;опционально&gt; пользовательские параметры линтинга. параметры по умолчанию - modulesParams#gulpCssLintConfig filter boolean &lt;опционально&gt; true флаг исрользования фильтровки файлов notify boolean &lt;опционально&gt; false выводить уведомление по окончанию трансфера notifyOn string &lt;опционально&gt; 'last' метод уведомления, параметр передается дальше методу modulesParams#gulpNotify notifyTime number &lt;опционально&gt; 2000 время показа уведомления, параметр передается дальше методу modulesParams#gulpNotify notifyIsShort boolean &lt;опционально&gt; false выводить краткое уведомдение - только количество файлов, параметр воздействует только при опции notifyOn:'last'. Параметр передается дальше методу modulesParams#gulpNotify Возвращает: function Исходный код: module.exports = function(options) { // возврашаем функцию для задачи return function(cb) { // vars // ======== // флаг фильтровки let isFilter = options.filter !== false; // флаг конката let isConcat = options.concat == true; // streams // ======== // составление multipipe компиляции let streamSass = multipipe( $.sass(_modulesParams.gulpSassConfig(options.sassConfig)), $.autoprefixer(_modulesParams.gulpAutoprefixerConfig(options.autoprefixerConfig)), // если production версия - складываем mq $.if( options.isProduction, $.combineMq({ beautify: !options.min }) ), // если min вкл. $.if( options.min, $.cssnano(_modulesParams.gulpCssnanoConfig(options.minConfig)) ) ).on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`compile - ${options.taskName}`)) ); // составление multipipe для линтинга sass let streamSassLint = multipipe( $.if( (file) =&gt; { return (file.extname === '.scss' &amp;&amp; file.relative.split('\\\\')[0] !== 'vendor'); }, multipipe( $.sassLint(_modulesParams.gulpSassLintConfig(options.sasslintConfig)), $.if( (file) =&gt; { if (file.sassLint[0].warningCount &gt; 0) { console.log(chalk.magenta('\\n\\tSASS LINT\\n============================================================')); } return false; }, throughObj((file, enc, callback) =&gt; { return callback(null, file); }) ), $.sassLint.format(), $.sassLint.failOnError() ) ) ).on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`SASSLint - ${options.taskName}`)) ); // составление multipipe для линтинга css let streamCssLint = multipipe( $.if( (file) =&gt; { return (file.extname === '.css' &amp;&amp; file.relative.split('\\\\')[0] !== 'vendor'); }, multipipe( $.csslint(_modulesParams.gulpCssLintConfig(options.csslintConfig)), $.csslint.reporter(cssLintReporter), // если есть ошибки - fail $.if( (file) =&gt; { return !!file.cssLintFail; }, multipipe( $.csslint.reporter('fail'), throughObj((file, enc, callback) =&gt; { return callback(); }) ) ), // если есть предупреждения - notify $.if( (file) =&gt; { return !!file.cssLintWarns; }, $.notify({ title: `CSSLint WARN`, message: `` }) ) ) ) ).on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`CSSLint - ${options.taskName}`)) ); // task // ======== if (isConcat) { var folders = options.getFolders(options.src); folders.map(function (folder) { let files = []; console.log(folder); let source = path.join(options.src, folder, '*.scss'); gulp.src(source) .pipe(multipipe( $.if( options.maps, $.sourcemaps.init() ), streamSass, $.wrap('\\n/* &lt;%= file.relative %&gt;\\n ================================== */\\n&lt;%= contents %&gt;\\n'), $.concat(`${folder}.css`), $.if( options.maps, $.sourcemaps.write('/') ) ).on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`Stream - ${options.taskName}`)) ) ) .pipe($.if( isFilter, $.changed( options.dest, { hasChanged: $.changed.compareSha1Digest } ) )) .pipe(gulp.dest(options.dest)) .on('data', (file) =&gt; { files.push(file.relative); }) .pipe($.if( options.notify, $.notify(_modulesParams.gulpNotify(options, files, 'compiled')) )) .pipe($.if( options.browserSyncReload, options.browserSync.stream({ match: &quot;**/*.css&quot; }) )); }); cb(); } else { let receivedFilesList = []; return gulp.src(options.src) .pipe($.if( options.sasslint, streamSassLint )) .pipe($.if( options.maps, $.sourcemaps.init() )) .pipe(streamSass) .pipe($.if( options.csslint, streamCssLint )) .pipe($.if( options.maps, $.sourcemaps.write('/') )) .pipe($.if( (/\\.css$/ &amp;&amp; !!options.changeExt), $.rename((path) =&gt; { path.extname = options.changeExt; }) )) .pipe($.if( isFilter, $.changed( options.dest, { hasChanged: $.changed.compareSha1Digest } ) )) .pipe(gulp.dest(options.dest)) .on('data', (file) =&gt; { receivedFilesList.push(file.relative); }) .pipe($.if( options.notify, $.notify(_modulesParams.gulpNotify(options, receivedFilesList, 'compiled')) )) .pipe($.if( options.browserSyncReload, options.browserSync.stream({ match: &quot;**/*.css&quot; }) )); } }; } module:tasks/sassdoc(options) Документация scss файлов, на основе комментариев Туториалы: Документация SASS файлов Для работы необходимы: gulp#4 https://www.npmjs.com/package/sassdoc To Do: Составить больше примеров использования модуля и вариаций документации кода Параметры: Имя Тип Описание options Object передаваемые параметры Свойтсва Имя Тип Описание taskName string имя вызывающей задачи, задаеться автоматически isDevelop boolean флаг dev версии сборки, задаеться автоматически isProduction boolean флаг production версии сборки, задаеться автоматически package Object данные из package.json, задаеться автоматически systemName string тайтл документации dest string путь к директории итоговой документации src string | Array путь к документируемым файлам Возвращает: function Исходный код: module.exports = function(options) { return function(cb) { let stream = sassdoc({ dest: options.dest, verbose: true, theme: options.theme, display: { access: ['public', 'private'], alias: true, watermark: true }, groups: options.groups }); gulp.src(options.src) .pipe(stream); return stream.promise.then(function () { console.log('End of documentation process'); }); }; } module:tasks/sassdoc-materials(options) Компиляция главной страницы и туториалов для документации scss файлов Туториалы: Документация SASS файлов Связанные материалы: module:tasks/jsdoc ./tasks/jsdoc-theme/jsdoc.conf.json Для работы необходимы: gulp#4 https://www.npmjs.com/package/gulp-jsdoc3 module:tasks/_modules-params Параметры: Имя Тип Описание options Object передаваемые параметры Свойтсва Имя Тип Описание taskName string имя вызывающей задачи, задаеться автоматически isDevelop boolean флаг dev версии сборки, задаеться автоматически isProduction boolean флаг production версии сборки, задаеться автоматически package Object данные из package.json, задаеться автоматически systemName string тайтл документации dest string путь к директории итоговой документации tutorials string путь к директории туториалов для раздела документации blank string путь к файлу пустышке, необходим для подхвата index string вступительный, файл для документации, который должен быть создан по разметке markdown Возвращает: function Исходный код: module.exports = function(options) { // возвращаем задачу return function(cb) { // расширяем системный конфиг jsdoc на основе пользовательских параметров _modulesParams.jsdoc3Config(options, jsdocConfig); // составляем источник для jsdoc let src = [ options.index, options.blank ]; // указываем флаг sassdoc jsdocConfig.sassdoc = true; // генерация документации gulp.src(src, {read: false}) .pipe(jsdoc3(jsdocConfig, cb)); }; } module:tasks/transfer(options) Модуль трансфера. Используеться для переброса файлов без обработки. Туториалы: Трансфер файлов Для работы необходимы: gulpjs/gulp#4.0 https://www.npmjs.com/package/gulp-load-plugins https://www.npmjs.com/package/gulp-if https://www.npmjs.com/package/gulp-newer https://www.npmjs.com/package/gulp-notify https://www.npmjs.com/package/gulp-imagemin module:tasks/_modules-params Параметры: Имя Тип Описание options Object передаваемые параметры Свойтсва Имя Тип Аргумент По умолчанию Описание taskName string имя вызывающей задачи, задаеться автоматически isDevelop boolean флаг dev версии сборки, задаеться автоматически isProduction boolean флаг production версии сборки, задаеться автоматически package Object данные из package.json, задаеться автоматически dest string путь к итоговой директории src string путь к исходной директории imagemin boolean &lt;опционально&gt; флаг миницикации изображений filter string | boolean &lt;опционально&gt; 'combine' метод фильтровки файлов notify boolean &lt;опционально&gt; false выводить уведомление по окончанию трансфера notifyOn string &lt;опционально&gt; 'last' метод уведомления, параметр передается дальше методу modulesParams#gulpNotify notifyTime number &lt;опционально&gt; 2000 время показа уведомления, параметр передается дальше методу modulesParams#gulpNotify notifyIsShort boolean &lt;опционально&gt; false выводить краткое уведомдение - только количество файлов, параметр воздействует только при опции notifyOn:'last'. Параметр передается дальше методу modulesParams#gulpNotify Возвращает: function Исходный код: module.exports = function(options) { // возврашаем функцию для задачи return function(cb) { // vars // ======== // список переброшенных файлов let receivedFilesList = []; let isImageMin = options.imagemin === true; // использовать newer метод ? let isNewer = false; // использовать since метод ? let isSince = false; switch(options.filter) { case false: break; case 'since': isSince = true; break; case 'newer': isNewer = true; break; default: if (options._isCombinedMethod) { isSince = true; isNewer = false; } else { isSince = false; isNewer = true; options._isCombinedMethod = true; } }; // task // ======== return gulp.src(options.src, { buffer: isImageMin, since: isSince ? gulp.lastRun(options.taskName) : 0 }) .pipe($.if( isNewer, $.newer(options.dest).on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`transfer - ${options.taskName}`)) ) )) .pipe($.if( isImageMin, $.imagemin([ $.imagemin.gifsicle(), $.imagemin.jpegtran(), $.imagemin.optipng(), $.imagemin.svgo() ], { verbose: true }) .on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`imagemin - ${options.taskName}`)) ) )) .pipe(gulp.dest(options.dest)) .on('data', (file) =&gt; { receivedFilesList.push(file.relative); }) .pipe($.if( options.notify, $.notify(_modulesParams.gulpNotify(options, receivedFilesList, 'transfered')) )); }; } module:tasks/upload(options) Модуль который експортирует задачу загрузки файлов на фтп.По умолчанию это фтп хост инкубатора, параметры подключения к хосту указываються в конфигурации задачи connect. Для работы необходимы: gulpjs/gulp#4.0 https://www.npmjs.com/package/vinyl-ftp https://www.npmjs.com/package/gulp-load-plugins https://www.npmjs.com/package/gulp-if https://www.npmjs.com/package/gulp-notify module:tasks/_modules-params Параметры: Имя Тип Описание options Object передаваемые параметры Свойтсва Имя Тип Аргумент По умолчанию Описание taskName string имя вызывающей задачи, задаеться автоматически isDevelop boolean флаг dev версии сборки, задаеться автоматически isProduction boolean флаг production версии сборки, задаеться автоматически package Object данные из package.json, задаеться автоматически src string путь к исходным файлам connect Object параметры для соединения с хостом Свойтсва Имя Тип Аргумент По умолчанию Описание host string хост user string пользователь pass string пароль remotePath string путь к директории на хосте в которую будут залиты файлы parallel number &lt;опционально&gt; 3 количество паралельных трансферов notify boolean &lt;опционально&gt; false выводить уведомление по окончанию загрузки notifyOn string &lt;опционально&gt; 'last' метод уведомления, параметр передается дальше методу modulesParams#gulpNotify notifyTime number &lt;опционально&gt; 2000 время показа уведомления, параметр передается дальше методу modulesParams#gulpNotify notifyIsShort boolean &lt;опционально&gt; false выводить краткое уведомдение - только количество файлов, параметр воздействует только при опции notifyOn:'last'. Параметр передается дальше методу modulesParams#gulpNotify Возвращает: function Исходный код: /** * Модуль который експортирует задачу загрузки файлов на фтп. * По умолчанию это фтп хост инкубатора, параметры подключения к хосту указываються в конфигурации задачи `connect`. * * * * @moduleLocal * @sourcecode code:tasks:upload -c * * @requires gulpjs/gulp#4.0 * @requires https://www.npmjs.com/package/vinyl-ftp * @requires https://www.npmjs.com/package/gulp-load-plugins * @requires https://www.npmjs.com/package/gulp-if * @requires https://www.npmjs.com/package/gulp-notify * @requires module:tasks/_modules-params * * @param {Object} options - передаваемые параметры * @param {string} options.taskName - имя вызывающей задачи, *задаеться автоматически* * @param {boolean} options.isDevelop - флаг dev версии сборки, *задаеться автоматически* * @param {boolean} options.isProduction - флаг production версии сборки, *задаеться автоматически* * @param {Object} options.package - данные из `package.json`, *задаеться автоматически* * @param {string} options.src - путь к исходным файлам * @param {Object} options.connect - параметры для соединения с хостом * @param {string} options.connect.host - хост * @param {string} options.connect.user - пользователь * @param {string} options.connect.pass - пароль * @param {string} options.connect.remotePath - путь к директории на хосте в которую будут залиты файлы * @param {number} [options.connect.parallel=3] - количество паралельных трансферов * @param {boolean} [options.notify=false] - выводить уведомление по окончанию загрузки * @param {string} [options.notifyOn='last'] - метод уведомления, параметр передается дальше методу modulesParams#gulpNotify * @param {number} [options.notifyTime=2000] - время показа уведомления, параметр передается дальше методу modulesParams#gulpNotify * @param {boolean} [options.notifyIsShort=false] - выводить краткое уведомдение - только количество файлов, параметр воздействует только при опции `notifyOn:'last'`. Параметр передается дальше методу modulesParams#gulpNotify * * @return {Function} */ module.exports = function(options) { // возврашаем функцию для задачи return function(cb) { // vars // ======== // список загруженных файлов let receivedFilesList = []; // создаем подключение let ftpConnect = vinylFtp.create(options.connect); let remotePath = ftpConnect.config.remotePath; // task // ======== return gulp.src(options.src, {buffer: false}) .pipe(ftpConnect.newer(remotePath)) .pipe(ftpConnect.dest(remotePath)) .on('data', (file) =&gt; { receivedFilesList.push(file.relative); }) .pipe($.if( options.notify, $.notify(_modulesParams.gulpNotify(options, receivedFilesList, 'uploaded')) )); }; } Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"modules.list.html":{"id":"modules.list.html","title":"Модули ","body":" Модули Класcы Helpers modulesParams Пространства имен gulp modernizrTests Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"classes.list.html":{"id":"classes.list.html","title":"Классы ","body":" Классы Класcы Helpers modulesParams Пространства имен gulp modernizrTests Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Пространства имен ","body":" Пространства имен Класcы Helpers modulesParams Пространства имен gulp modernizrTests Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"tutorials.list.html":{"id":"tutorials.list.html","title":"Туториалы ","body":" Туториалы Класcы Helpers modulesParams Пространства имен gulp modernizrTests Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"index.html":{"id":"index.html","title":"Index","body":" Документация по основным разделам Project docs Gulp docs JSDoc SASSDoc Gulp docsРаздел документации по js файлам, которые участвуют в сборке проекта. используется стандарт es6 Gulp задачичитай раздел Список основных gulp задач, в котором описаны все доступные задачи для работытакже смотри полную информацию о gulp файле и всех задачах Gulp модуливсе рабочие модули, которые используются в проекте сборки, находятся в директрии ./tasks.Задачи, описаные в основном gulp файле, вызывают эти модули при помощи метода lazyRequireTask. Это позволяет облегчить запуск gulp'a и, самое основное, использовать логику одного и того же модуля для разных задач с различными условиями и параметрами. Структура директорийчитай туториал Структура директорий Компиляция файлов Компиляция разметки Компиляция скриптов Компиляция стилей Трансфер файлов Используемые nodejs модулиКаждый модуль можно найти на сайте npmjs.com.Исключение gulp#4.0 &quot;devDependencies&quot;: { &quot;babel-preset-es2015&quot;: &quot;^6.9.0&quot;, &quot;babel-register&quot;: &quot;^6.9.0&quot;, &quot;browser-sync&quot;: &quot;^2.13.0&quot;, &quot;deep-extend&quot;: &quot;^0.4.1&quot;, &quot;del&quot;: &quot;^2.2.1&quot;, &quot;file-save&quot;: &quot;^0.2.0&quot;, &quot;graceful-fs&quot;: &quot;^4.1.5&quot;, &quot;gulp&quot;: &quot;github:gulpjs/gulp#4.0&quot;, &quot;gulp-autoprefixer&quot;: &quot;^3.1.0&quot;, &quot;gulp-autowatch&quot;: &quot;^1.0.2&quot;, &quot;gulp-changed&quot;: &quot;^1.3.0&quot;, &quot;gulp-combine-mq&quot;: &quot;^0.4.0&quot;, &quot;gulp-csslint&quot;: &quot;^0.3.1&quot;, &quot;gulp-cssnano&quot;: &quot;^2.1.2&quot;, &quot;gulp-ejs-locals&quot;: &quot;0.0.1&quot;, &quot;gulp-html-beautify&quot;: &quot;^1.0.1&quot;, &quot;gulp-if&quot;: &quot;^2.0.1&quot;, &quot;gulp-imagemin&quot;: &quot;^3.0.2&quot;, &quot;gulp-include&quot;: &quot;^2.3.0&quot;, &quot;gulp-jsdoc3&quot;: &quot;^0.3.0&quot;, &quot;gulp-json-concat&quot;: &quot;0.0.5&quot;, &quot;gulp-load-plugins&quot;: &quot;^1.2.4&quot;, &quot;gulp-markdown&quot;: &quot;^1.2.0&quot;, &quot;gulp-newer&quot;: &quot;^1.2.0&quot;, &quot;gulp-notify&quot;: &quot;^2.2.0&quot;, &quot;gulp-rename&quot;: &quot;^1.2.2&quot;, &quot;gulp-sass&quot;: &quot;^2.3.2&quot;, &quot;gulp-sass-lint&quot;: &quot;^1.2.0&quot;, &quot;gulp-sourcemaps&quot;: &quot;^1.6.0&quot;, &quot;gulp-uglify&quot;: &quot;^1.5.4&quot;, &quot;gulp-util&quot;: &quot;^3.0.7&quot;, &quot;lodash&quot;: &quot;^4.14.0&quot;, &quot;minimatch&quot;: &quot;^3.0.2&quot;, &quot;multipipe&quot;: &quot;^0.3.1&quot;, &quot;sassdoc&quot;: &quot;^2.1.20&quot;, &quot;vinyl-ftp&quot;: &quot;^0.5.0&quot;, &quot;yargs&quot;: &quot;^4.7.1&quot; } Как писать документацию?читай туториалы: Документация GULP сборки Документация JS файлов Документация SASS файлов Документация HTML файлов Как писать туториалы?читай http://usejsdoc.org/about-tutorials.html и Заготовка для создания туториала Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"gulp.html":{"id":"gulp.html","title":"Пространство имени: gulp","body":" Пространство имени: gulp gulp gulpfile.babel.js - Основной файл описания системы сборкидля менеджера задач - Gulp 4.Ниже представленны все данные и задачи для работы. Определения и Вызовы _constants Основная конфигурация проекта сборки Исходный код: // имя проекта const projectName = pkg.name; // директория проекта const projectFolder = config.localFolder; // объект авто-вотчей const watchSources = {}; // включение линтинга -l --lint const isLinting = !!argv.l || !!argv.lint; // версия production сборки -p --prod const isProduction = !!argv.p || !!argv.prod; // версия dev сборки const isDevelop = !isProduction; // проект адаптивный const isProjectResponsive = config.isProjectResponsive; // проект студии wezom const isProjectWezom = config.isProjectWezom; // минифицировать файлы при продакшн версии сборки const isMinify = isProduction &amp;&amp; config.minifyJsCssOnProduction; // конкат js папок при продакшн версии сборки const isConcatJs = isProduction &amp;&amp; config.cancatJsFoldersOnProduction; // конкат css папок при продакшн версии сборки const isConcatCss = isProduction &amp;&amp; config.cancatCssFoldersOnProduction; // оптимизировать изображения при продакшн версии сборки const isSourcemaps = isDevelop &amp;&amp; config.sourcemapsJsCssOnDevelop; // включение нотифаеров -n --notify const isNotify = config.notifyAfterTaskDone || (!!argv.n || !!argv.notify); // глобальный метод фильтровки при трансфере файлов const transferFilterMethod = config.transferFilterMethod; // оптимизировать изображения при продакшн версии сборки const isOptimize = isProduction &amp;&amp; config.optimizeImagesOnProduction; // использовать browser-sync const isBsUse = config.browserSync.use; // авто открытие ссылки полсе инита browser-sync -o --open const isBsOpenOnInit = (!!argv.o || !!argv.open) ? 'external' : false; // отключение авторелоада browser-sync при изменениях -r --noreload const isBsAutoReload = !(!!argv.r || !!argv.noreload); // Инициализация browser-sync const BrowserSync = (cb) =&gt; { if (isBsUse) { let open = isBsOpenOnInit; let port = config.browserSync.port; if (config.browserSync.static) { browserSync.init({ server: { baseDir: 'dist/' }, open: open, port: port }); } else { browserSync.init({ proxy: `http://${projectFolder}${config.browserSync.deepPath}`, open: open, port: port }); } } else { cb(); } }; _ejsLocals Объект параметров, который передаеться в pipe модуля gulp-ejs-locals,при компиляции основных файлов разметки и hidden файлов. Исходный код: let _ejsLocals = { PKG: pkg, IS_RESPONSIVE: isProjectResponsive, IS_WEZOM: isProjectWezom, IS_PRODUCTION: isProduction, IS_DEVELOP: isDevelop, IS_CONCAT_JS: isConcatJs, IS_CONCAT_CSS: isConcatCss }; _node_modules Подключение nodejs модулей Исходный код: // подключение nodejs модулей import fs from 'fs'; import path from 'path'; import gulp from 'gulp'; import pkg from './package.json'; import config from './config.json'; import autowatch from 'gulp-autowatch'; import browserSyncModule from 'browser-sync'; const browserSync = browserSyncModule.create(); import yargs from 'yargs'; const argv = yargs.argv; // подключение внутренних модулей import _helpers from './tasks/_helpers.js'; gulp build gulp задача пересборки итоговой верстки и продолжение инкрементальной сборки. gulp build Исходный код: gulp.task('build', gulp.series( 'rebuild', 'default' ) ); gulp clean Очистка директрии ./dist и инлайновых js/css файлов gulp clean Смотри также: module:tasks/clean Исходный код: lazyRequireTask('clean', './tasks/clean', { src: [ './dist', './src/markup/partials/criticals-js', './src/markup/partials/criticals-css' ] }); gulp default gulp задача по умолчанию.запускает вотч и browser-sync, если включен. gulp default Исходный код: gulp.task('default', gulp.parallel('watch', BrowserSync) ); gulp docs Генерация документаций по всем разделам gulp docs Исходный код: gulp.task('docs', gulp.series( 'docs:clean:html', 'docs:clean', 'docs:assets', 'docs:jsdoc:gulp', 'docs:jsdoc:gulp:assets', 'docs:jsdoc:js', 'docs:jsdoc:js:assets', 'docs:html:doc', 'docs:html:assets', 'docs:sass' )); gulp docs:assets Трансфер статических файлов для оформления документаций gulp docs:assets Туториалы: Трансфер файлов Смотри также: module:tasks/transfer Исходный код: lazyRequireTask('docs:assets', './tasks/transfer', { src: './tasks/_docs-assets/**/*.*', dest: './docs/_assets', filter: 'newer', notify: isNotify, notifyIsShort: true }); gulp docs:clean Очистка очистка корневой директории gulp docs:clean Смотри также: module:tasks/clean Исходный код: lazyRequireTask('docs:clean', './tasks/clean', { src: './docs' }); gulp docs:clean:gulp Очистка директории документации gulp сборки gulp docs:clean:gulp Смотри также: module:tasks/clean Исходный код: lazyRequireTask('docs:clean:gulp', './tasks/clean', { src: './docs/gulp' }); gulp docs:clean:html Очистка директории документации с html страниц gulp docs:clean:html Смотри также: module:tasks/clean Исходный код: lazyRequireTask('docs:clean:html', './tasks/clean', { src: [ './docs/html', './tmp/htmldoc' ] }); gulp docs:clean:js Очистка директории документации скриптов верстки gulp docs:clean:js Смотри также: module:tasks/clean Исходный код: lazyRequireTask('docs:clean:js', './tasks/clean', { src: './docs/js' }); gulp docs:gulp Комплексная задача создания документации gulp сборки gulp docs:gulp Туториалы: Документация GULP сборки Исходный код: gulp.task('docs:gulp', gulp.series( 'docs:clean:gulp', 'docs:jsdoc:gulp', 'docs:jsdoc:gulp:assets' ) ); gulp docs:html Комплексная задача создания документации с html страниц gulp docs:html Туториалы: Документация HTML файлов Исходный код: gulp.task('docs:html', gulp.series( 'docs:clean:html', 'docs:html:doc', 'docs:html:assets' ) ); gulp docs:html:assets Трансфер дополнительных файлов. gulp docs:html:assets Туториалы: Трансфер файлов Смотри также: module:tasks/transfer Исходный код: lazyRequireTask('docs:html:assets', './tasks/transfer', { src: './tutorials/html/assets/**/*.*', dest: './docs/html/assets', filter: 'newer', notify: isNotify, notifyIsShort: true }); gulp docs:html:doc Генерация документации с html страниц gulp docs:html:doc Туториалы: Документация HTML файлов Смотри также: module:tasks/htmldoc Исходный код: lazyRequireTask('docs:html:doc', './tasks/htmldoc', { systemName: 'Project docs', tutorials: `./tutorials/html`, tmpFiles: './tmp/htmldoc', tmpMD: './tmp/htmldoc/__todo-list.md', dest: `./docs/html`, src: [ `./tutorials/html-index.md`, `./dist/*.html` ] }); gulp docs:js Комплексная задача создания документации скриптов верстки gulp docs:js Туториалы: Документация JS файлов Исходный код: gulp.task('docs:js', gulp.series( 'docs:clean:js', 'docs:jsdoc:js', 'docs:jsdoc:js:assets' ) ); gulp docs:jsdoc:gulp Генерация документации gulp сборки gulp docs:jsdoc:gulp Туториалы: Документация GULP сборки Смотри также: module:tasks/jsdoc Исходный код: lazyRequireTask('docs:jsdoc:gulp', './tasks/jsdoc', { systemName: 'Gulp docs', tutorials: './tutorials/gulp', dest: './docs/gulp', src: [ './tutorials/gulp-index.md', './tasks/*.js', './tasks/jsdoc-theme/plugins/*.js', './tasks/modernizr-tests/*.js', './gulpfile.babel.js' ] }); gulp docs:jsdoc:gulp:assets Трансфер дополнительных файлов. gulp docs:jsdoc:gulp:assets Туториалы: Трансфер файлов Смотри также: module:tasks/transfer Исходный код: lazyRequireTask('docs:jsdoc:gulp:assets', './tasks/transfer', { src: './tutorials/gulp/assets/**/*.*', dest: './docs/gulp/assets', filter: 'newer', notify: isNotify, notifyIsShort: true }); gulp docs:jsdoc:js Генерация документации скриптов верстки gulp docs:jsdoc:js Туториалы: Документация JS файлов Смотри также: module:tasks/jsdoc Исходный код: lazyRequireTask('docs:jsdoc:js', './tasks/jsdoc', { systemName: 'JSDoc', tutorials: './tutorials/js', dest: './docs/js', src: [ './tutorials/js-index.md', './src/js/*.js', './src/js/_**/*.js', '!./src/js/_libs/*.js' ] }); gulp docs:jsdoc:js:assets Трансфер дополнительных файлов. gulp docs:jsdoc:js:assets Туториалы: Трансфер файлов Смотри также: module:tasks/transfer Исходный код: lazyRequireTask('docs:jsdoc:js:assets', './tasks/transfer', { src: './tutorials/js/assets/**/*.*', dest: './docs/js/assets', filter: 'newer', notify: isNotify, notifyIsShort: true }); gulp docs:sass Комплексная задача создания документации *.scss файлов gulp docs:sass Туториалы: Документация SASS файлов Исходный код: gulp.task('docs:sass', gulp.series( 'docs:sass:doc', 'docs:sass:materials', 'docs:sass:assets' ) ); gulp docs:sass:assets Трансфер дополнительных файлов. gulp docs:sass:assets Туториалы: Трансфер файлов Смотри также: module:tasks/transfer Исходный код: lazyRequireTask('docs:sass:assets', './tasks/transfer', { src: './tutorials/sass/assets/**/*.*', dest: './docs/sass/assets', filter: 'newer', notify: isNotify, notifyIsShort: true }); gulp docs:sass:doc Генерация документации scss файлов gulp docs:sass:doc Туториалы: Документация SASS файлов Смотри также: module:tasks/sassdoc Исходный код: lazyRequireTask('docs:sass:doc', './tasks/sassdoc', { theme: './tasks/sassdoc-theme', dest: './docs/sass', groups: { 'undefined': 'Без группы' }, src: [ './src/sass/*.scss', './src/sass/_**/*.scss', '!./src/sass/_libs/*.scss' ] }); gulp docs:sass:materials Компиляция главной страницы и туториалов для документации scss файлов gulp docs:sass:materials Смотри также: module:tasks/sassdoc-materials Исходный код: lazyRequireTask('docs:sass:materials', './tasks/sassdoc-materials', { systemName: 'SASSDoc', tutorials: './tutorials/sass', dest: './docs/sass', blank: './tasks/sassdoc-theme/blank.js', index: './tutorials/sass-index.md' }); gulp ejs Комплексная задача для компиляции ejs gulp ejs Туториалы: Компиляция разметки Смотри также: Project docs / Туториалы / Исходные файлы сборки Исходный код: gulp.task('ejs', gulp.series( 'ejs:markup', 'ejs:hidden' ) ); gulp ejs:clean Очистка всех скомпилорованных .html файлов и директории hidden gulp ejs:clean Смотри также: module:tasks/clean Исходный код: lazyRequireTask('ejs:clean', './tasks/clean', { src: [ './dist/*.html', './dist/hidden' ] }); gulp ejs:hidden Задача компиляции hidden файлов и переименование в .php. gulp ejs:hidden Туториалы: Компиляция разметки Смотри также: module:tasks/ejs Исходный код: lazyRequireTask('ejs:hidden', './tasks/ejs', { src: './src/markup/hidden/*.ejs', dest: './dist/hidden', watch: [ './src/markup/hidden/*.ejs' ], beautify: isProduction, changeExt: '.php', locals: _ejsLocals, notify: isNotify }); gulp ejs:markup Задача компиляции основных файлов разметки. gulp ejs:markup Туториалы: Компиляция разметки Смотри также: module:tasks/ejs Исходный код: lazyRequireTask('ejs:markup', './tasks/ejs', { src: './src/markup/views/*.ejs', dest: './dist', watch: [ './src/markup/helpers/*.ejs', './src/markup/layouts/*.ejs', './src/markup/views/*.ejs', './src/markup/widgets/*.ejs', './src/markup/_config.ejs' ], beautify: isProduction, locals: _ejsLocals, notify: isNotify }); gulp ejs:rebuild Комплексная задача пересборки ejs.Сначала очищаем итоговые файлы и компилируем заново. gulp ejs:rebuild Туториалы: Компиляция разметки Исходный код: gulp.task('ejs:rebuild', gulp.series( 'ejs:clean', 'ejs' ) ); gulp favicons Комплексная переброски трансфера favicons. gulp favicons Туториалы: Tutorial: compile-favicons gulp favicons:files Трансфер Favicons системных gulp favicons:files Туториалы: Трансфер файлов Смотри также: module:tasks/transfer Исходный код: lazyRequireTask('favicons:files', './tasks/transfer', { src: './src/favicons/*.{ico,xml,json}', dest: './dist', filter: transferFilterMethod, watch: [ './src/favicons/*.{ico,xml,json}' ], notify: isNotify }); gulp favicons:icons Трансфер Favicons изображений gulp favicons:icons Туториалы: Трансфер файлов Смотри также: module:tasks/transfer Исходный код: lazyRequireTask('favicons:icons', './tasks/transfer', { src: './src/favicons/*.{png,svg}', dest: './dist/favicons', filter: transferFilterMethod, watch: [ './src/favicons/*.{png,svg}' ], notify: isNotify }); gulp js Комплексная задача компиляции .js файлов (внешних и инлайновых). gulp js Туториалы: Компиляция скриптов Исходный код: let _jsSeries = [ 'js:files', 'js:criticals' ]; if (isConcatJs) { _jsSeries.unshift('js:concat'); } else { _jsSeries.unshift('js:folders'); } // gulp.task('js', gulp.series(..._jsSeries)); gulp js:clean Очистка директорий скриптов, внешних и инлайновых. gulp js:clean Смотри также: module:tasks/clean Исходный код: // lazyRequireTask('js:clean', './tasks/clean', { // src: [ // './dist/js' // ] // }); gulp js:concat Задача конката *.js файлов в директориях. gulp js:concat Туториалы: Компиляция скриптов Смотри также: module:tasks/js Исходный код: // lazyRequireTask('js:concat', './tasks/js', { // src: './src/js/', // dest: './dist/js', // watch: [ // './src/js/!(_*)**/**/*.js' // ], // concat: true, // maps: isSourcemaps, // min: isMinify, // eslint: false, // notify: isNotify, // }); gulp js:criticals Задача компиляции инлайновых (critical) скриптов.Эти файлы компилируются не в dist директорию, а в папку сборки ejs файлов, со сменной расширенния c *.js на *.ejs. gulp js:criticals Туториалы: Компиляция скриптов Смотри также: module:tasks/js Исходный код: // lazyRequireTask('js:criticals', './tasks/js', { // src: './src/js/_criticals/*.js', // dest: './src/markup/partials/criticals-js', // watch: [ // './src/js/_criticals/*.js' // ], // min: true, // changeExt: '.ejs', // eslint: isLinting, // notify: isNotify, // }); gulp js:files Задача составления основных *.js файлов. gulp js:files Туториалы: Компиляция скриптов Смотри также: module:tasks/js Исходный код: // lazyRequireTask('js:files', './tasks/js', { // src: './src/js/*.js', // dest: './dist/js', // watch: [ // './src/js/*.js', // './src/js/_partials/**/*.js' // ], // maps: isSourcemaps, // min: isMinify, // eslint: isLinting, // notify: isNotify, // }); gulp js:folders Задача составления *.js файлов из директорий. gulp js:folders Туториалы: Компиляция скриптов Смотри также: module:tasks/js Исходный код: // lazyRequireTask('js:folders', './tasks/js', { // src: './src/js/!(_*)**/*.js', // dest: './dist/js', // watch: [ // './src/js/!(_*)**/**/*.js' // ], // maps: isSourcemaps, // min: isMinify, // eslint: false, // notify: isNotify, // }); gulp js:rebuild Комплексная задача пересборки скриптов.Сначала очищаем итоговые файлы и компилируем заново. gulp js:rebuild Туториалы: Компиляция скриптов Исходный код: // gulp.task('js:rebuild', // gulp.series( // 'js:clean', // 'js', // 'modernizr:scan' // ) // ); gulp modernizr:addtests Добавление пользовательских тестов в модуль modernizr. gulp modernizr:addtests Туториалы: Трансфер файлов Смотри также: JSDoc / Туториалы / Работа с Modernizr.js module:tasks/transfer Исходный код: lazyRequireTask('modernizr:addtests', './tasks/transfer', { src: './tasks/modernizr-tests/**/*.js', dest: './node_modules/modernizr/feature-detects', filter: transferFilterMethod, notify: isNotify }); gulp modernizr:scan Сканирование файлов на именна классов (стили) или js обращение к свойствам Modernizr. gulp modernizr:scan Туториалы: Компиляция скриптов Смотри также: JSDoc / Туториалы / Работа с Modernizr.js module:tasks/js Исходный код: lazyRequireTask('modernizr:scan', './tasks/js', { src: [ './dist/js/init.js', './dist/css/style.css', './src/markup/_partials/criticals-css/*.ejs', './src/markup/_partials/criticals-js/*.ejs' ], dest: './dist/js/', maps: false, min: isMinify, modernizr: true, modernizrConfig: { options: [ 'setClasses', 'prefixes' ], tests: [], excludeTests: [ 'checked' ] }, notify: isNotify }); gulp rebuild Полная пересборка итогового макета верстки, с удалением предыдущей версии. gulp rebuild Исходный код: gulp.task('rebuild', gulp.series( 'clean', 'sass', // 'js', 'statics', // 'modernizr:scan', 'favicons', 'ejs' ) ); gulp sass Комплексная задача компилция .sass файлов (внешних и инлайновых). gulp sass Туториалы: Компиляция стилей Исходный код: let _cssSeries = [ 'sass:files', 'sass:criticals' ]; if (isConcatCss) { _cssSeries.unshift('sass:concat'); } else { _cssSeries.unshift('sass:folders'); } gulp.task('sass', gulp.series(..._cssSeries)); gulp sass:clean Очистка директорий стилей, внешних и инлайновых. gulp sass:clean Смотри также: module:tasks/clean Исходный код: lazyRequireTask('sass:clean', './tasks/clean', { src: [ './dist/css' ] }); gulp sass:concat Задача конката *.css файлов в директориях. gulp sass:concat Туториалы: Компиляция стилей Смотри также: module:tasks/sass Исходный код: lazyRequireTask('sass:concat', './tasks/sass', { src: './src/sass/', dest: './dist/css', watch: [ './src/sass/!(_*)**/**/*.scss' ], concat: true, maps: isSourcemaps, min: isMinify, notify: isNotify, sasslint: false, csslint: false }); gulp sass:criticals Задача компиляции инлайновых (critical) стилей.Эти файлы компилируются не в dist директорию, а в папку сборки ejs файлов, со сменной расширенния c *.css на *.ejs. gulp sass:criticals Туториалы: Компиляция стилей Смотри также: module:tasks/sass Исходный код: lazyRequireTask('sass:criticals', './tasks/sass', { src: './src/sass/_criticals/*.scss', dest: './src/markup/partials/criticals-css', watch: [ './src/sass/_criticals/*.scss' ], changeExt: '.ejs', maps: false, min: true, notify: isNotify, sasslint: isLinting, csslint: isLinting }); gulp sass:files Задача компиляции основных *.css файлов из *.scss. gulp sass:files Туториалы: Компиляция стилей Смотри также: module:tasks/sass Исходный код: lazyRequireTask('sass:files', './tasks/sass', { src: './src/sass/*.scss', dest: './dist/css', watch: [ './src/sass/*.scss', './src/sass/_mixins/**/*.scss', './src/sass/_partials/**/*.scss' ], maps: isSourcemaps, min: isMinify, notify: isNotify, sasslint: isLinting, csslint: isLinting }); gulp sass:folders Задача Задача составления *.css файлов из директорий. gulp sass:folders Туториалы: Компиляция стилей Смотри также: module:tasks/sass Исходный код: lazyRequireTask('sass:folders', './tasks/sass', { src: './src/sass/!(_*)**/*.scss', dest: './dist/css', watch: [ './src/sass/!(_*)**/**/*.scss' ], maps: isSourcemaps, min: isMinify, notify: isNotify, sasslint: false, csslint: false }); gulp sass:rebuild Комплексная задача пересборки стилей.Сначала очищаем итоговые файлы и компилируем заново. gulp sass:rebuild Туториалы: Компиляция стилей Исходный код: gulp.task('sass:rebuild', gulp.series( 'sass:clean', 'sass' //'modernizr:scan' ) ); gulp start Стартовая задача, использутся для первоого запуска gulp start Исходный код: gulp.task('start', gulp.series( 'modernizr:addtests', 'rebuild', 'docs' ) ); gulp statics Трансфер статических файлов gulp statics Туториалы: Трансфер файлов Смотри также: module:tasks/transfer Исходный код: lazyRequireTask('statics', './tasks/transfer', { src: './src/statics/**/*.*', dest: './dist', filter: transferFilterMethod, imagemin: isOptimize, watch: [ './src/statics/**/*.*' ], notify: isNotify }); gulp svg:jsons Трансфер статических файлов gulp svg:jsons Смотри также: module:tasks/svgsprite Исходный код: lazyRequireTask('svg:jsons', './tasks/svgsprite', { src: './src/svgsprite/jsons/*.json', dest: './dist/hidden', watch: [ './src/svgsprite/jsons/*.json' ], notify: isNotify }); gulp upload Загрузка файлов на инкубатор gulp upload Смотри также: module:tasks/upload Исходный код: lazyRequireTask('upload', './tasks/upload', { src: './dist/**/*.*', notify: isNotify, connect: { host: '91.206.30.13', user: 'inkubator', pass: '9H9w4Z4a', parallel: 10, remotePath: `www/inkubator.ks.ua/html/${projectName}/` } }); gulp watch Задача вотчинга gulp watch Исходный код: gulp.task('watch', () =&gt; { _helpers.logMsg('Start watching'); autowatch(gulp, watchSources); }); Методы &lt;inner&gt; lazyRequireTask(taskName, taskFile [, taskOptions]) Метод &quot;ленивой&quot; загрузки и подключения задач из внутрених модулей.Кроме передаваемых значений из каждой задачи,метод добавляет автоматически параметры: taskOptions.taskName - имя задчи taskOptions.isProduction - флаг продакшн версии taskOptions.isDevelop - флаг dev версии taskOptions.package - объект данных из package.json taskOptions.browserSyncReload - флаг авторелоада browser-sync Также если в параметрах задачи указать свойство watch автоматически добавит в глобальный объект watchSources ключ (имя задачи) - и значение указанное в свойстве.Для использования модулем gulp-autowatch в задаче gulp watch Параметры: Имя Тип Аргумент По умолчанию Описание taskName String имя задачи taskFile String путь к файлу, без учета родительской директории задач - ./tasks/ taskOptions Object &lt;опционально&gt; {} передавемые параметры Возвращает: * Исходный код: lazyRequireTask = (taskName, taskFile, taskOptions={}) =&gt; { taskOptions.taskName = taskName; taskOptions.isProduction = isProduction; taskOptions.isDevelop = isDevelop; taskOptions.package = pkg; taskOptions.browserSyncReload = (isBsUse &amp;&amp; isBsAutoReload); taskOptions.browserSync = browserSync; if (taskOptions.concat) { taskOptions.getFolders = getFolders; } if (taskOptions.watch) { watchSources[taskName] = taskOptions.watch; } gulp.task(taskName, function(cb) { let task = require(taskFile).call(this, taskOptions); return task(cb); }); } Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"modernizrTests.html":{"id":"modernizrTests.html","title":"Пространство имени: modernizrTests","body":" Пространство имени: modernizrTests modernizrTests Набор пользовательских тестов для modernizr.js. Смотри workwith-modernizr Определения и Вызовы test android Определение android Исходный код: Modernizr.addTest( 'android', (navigator.userAgent.toLowerCase().indexOf('android') &gt;= 0) ); test android2 Определение android2 Исходный код: Modernizr.addTest( 'android2', (navigator.userAgent.toLowerCase().indexOf('android 2.') &gt;= 0) ); test android3 Определение android3 Исходный код: Modernizr.addTest( 'android3', (navigator.userAgent.toLowerCase().indexOf('android 3.') &gt;= 0) ); test android4 Определение android4 Исходный код: Modernizr.addTest( 'android4', (navigator.userAgent.toLowerCase().indexOf('android 4.') &gt;= 0) ); test android5 Определение android5 Исходный код: Modernizr.addTest( 'android5', (navigator.userAgent.toLowerCase().indexOf('android 5.') &gt;= 0) ); test android6 Определение android6 Исходный код: Modernizr.addTest( 'android6', (navigator.userAgent.toLowerCase().indexOf('android 6.') &gt;= 0) ); test androidless Определение androidless - андроиды 4.3 и младше Исходный код: Modernizr.addTest( 'androidless', (navigator.userAgent.match(/\\sandroid\\s([0-3]|4\\.[0-3])/i) !== null) ); test chrome Определение браузера chrome Исходный код: Modernizr.addTest( 'chrome', function() { var ua = navigator.userAgent.toLowerCase(); var chrome = !!window.chrome &amp;&amp; ua.match(/Opera|OPR\\//i) === null; var edje = ua.indexOf(&quot; edge/&quot;) &gt; 0; return chrome &amp;&amp; !edje; } ); test edge Определение edge браузера Исходный код: Modernizr.addTest( 'edge', (navigator.userAgent.toLowerCase().indexOf(&quot; edge/&quot;) &gt; 0) ); test ie Определение браузера ie Исходный код: Modernizr.addTest( 'ie', (/*@cc_on!@*/ false || document.documentMode) ); test ie8 Определение браузера ie8 Исходный код: Modernizr.addTest( 'ie8', (document.all &amp;&amp; !document.addEventListener) ); test ie9 Определение браузера ie9 Исходный код: Modernizr.addTest( 'ie9', (document.all &amp;&amp; !window.atob &amp;&amp; !!document.addEventListener) ); test ie10 Определение браузера ie10 Исходный код: Modernizr.addTest( 'ie10', (document.all &amp;&amp; !!window.atob &amp;&amp; !!document.addEventListener) ); test ie11 Определение браузера ie11 Исходный код: Modernizr.addTest( 'ie11', (!!navigator.userAgent.match(/Trident.*rv[ :]*11\\./)) ); test ios Определение ios Исходный код: Modernizr.addTest( 'ios', (navigator.platform.match(/(iPhone|iPod|iPad)/i) !== null) ); test ipad Определение ipad Исходный код: Modernizr.addTest( 'ipad', (navigator.userAgent.toLowerCase().indexOf('ipad') &gt;= 0) ); test iphone Определение iphone Исходный код: Modernizr.addTest( 'iphone', (navigator.userAgent.toLowerCase().indexOf('iphone') &gt;= 0) ); test ipod Определение ipod Исходный код: Modernizr.addTest( 'ipod', (navigator.userAgent.toLowerCase().indexOf('ipod') &gt;= 0) ); test linux Определение linux Исходный код: Modernizr.addTest( 'linux', (navigator.platform.toLowerCase().indexOf('linux') &gt;= 0) ); test mac Определение mac Исходный код: Modernizr.addTest( 'mac', (navigator.platform.toLowerCase().indexOf('mac') &gt;= 0) ); test maclike Определение maclike Исходный код: Modernizr.addTest( 'maclike', (navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i) !== null) ); test moz Определение браузера mozilla Исходный код: Modernizr.addTest( 'moz', (typeof InstallTrigger !== 'undefined') ); test opera Определение браузера opera Исходный код: Modernizr.addTest( 'opera', (!!window.opera || navigator.userAgent.match(/Opera|OPR\\//) !== null) ); test retina Определение retina дисплеев Исходный код: Modernizr.addTest( 'retina', function() { var dpr = window.devicePixelRatio || (window.screen.deviceXDPI / window.screen.logicalXDPI) || 1; var flag = dpr &gt; 1; return !!flag; } ); test safari Определение браузера safari Исходный код: Modernizr.addTest( 'safari', (Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') &gt; 0) ); test webkit Определение webkit браузеров Исходный код: Modernizr.addTest( 'webkit', function() { var ua = window.navigator.userAgent.toLowerCase(); var webkit = 'WebkitAppearance' in docElement.style; var edge = !(ua.indexOf(&quot; edge/&quot;) &gt; 0); return webkit &amp;&amp; edge; } ); test win Определение операционной системы Windows Исходный код: Modernizr.addTest( 'win', (navigator.platform.toLowerCase().indexOf('win') &gt;= 0) ); test win7 Определение операционной системы Windows 7 Исходный код: Modernizr.addTest( 'win7', (navigator.userAgent.toLowerCase().indexOf('windows nt 6.1') &gt; 0) ); test win8 Определение операционной системы Windows 8 Исходный код: Modernizr.addTest( 'win8', function() { var ua = navigator.userAgent.toLowerCase(); return ua.indexOf('windows nt 6.2') &gt; 0 || ua.indexOf('windows nt 6.3') &gt; 0; } ); test win10 Определение операционной системы Windows 10 Исходный код: Modernizr.addTest( 'win10', (navigator.userAgent.toLowerCase().indexOf('windows nt 10') &gt; 0) ); test win2000 Определение операционной системы Windows2000 Исходный код: Modernizr.addTest( 'win2000', (navigator.userAgent.toLowerCase().indexOf('windows nt 5.0') &gt; 0) ); test winvista Определение операционной системы Windows Vista Исходный код: Modernizr.addTest( 'winvista', (navigator.userAgent.toLowerCase().indexOf('windows nt 6.0') &gt; 0) ); test winxp Определение операционной системы Windows XP Исходный код: Modernizr.addTest( 'winxp', (navigator.userAgent.toLowerCase().indexOf('windows nt 5.1') &gt; 0) ); Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"module-tasks__extract-media-mq.html":{"id":"module-tasks__extract-media-mq.html","title":"Модуль: tasks/_extract-media-mq","body":" Модуль: tasks/_extract-media-mq Модуль в отложен ящик до лучших времен. requireconst {moduleName} = require(&quot;./tasks/_extract-media-mq&quot;)(extractMqFrom);es6 importimport {moduleImportName} from &quot;./tasks/_extract-media-mq&quot;;const {moduleName} = {moduleImportName}(extractMqFrom); Модуль екстракта указанных медиа-запросов из оригинального css файла в отдельные файлы.Пример конфига extractMqFrom: { 'style.css': { print: 'print', sm: 'only screen and (min-width: 481px)', md: 'only screen and (min-width: 769px)', lg: 'only screen and (min-width: 1025px)', xl: 'only screen and (min-width: 1281px)' } }Пример pipe .pipe($.if( (options.isProduction &amp;&amp; !!options.extractMqFrom), extractMq(options.extractMqFrom) )) Туториалы: Компиляция стилей Для работы необходимы: https://www.npmjs.com/package/rework https://www.npmjs.com/package/rework-split-media https://www.npmjs.com/package/rework-move-media https://www.npmjs.com/package/css-stringify https://www.npmjs.com/package/clean-up-string https://www.npmjs.com/package/through2 https://www.npmjs.com/package/path Параметры: Имя Тип Описание extractMqFrom Object список файлов из которых нужно делать экстракт extractMqFrom[].fileRelativeKey Object набор медиа-запросов для экстракта из файла Свойтсва Имя Тип Описание extractMqName string значения медиа-запроса Возвращает: Stream Исходный код: module.exports = function(extractMqFrom) { return throughObj(function(file, enc, callback) { let stream = this; let fileKey = file.relative; if (extractMqFrom.hasOwnProperty(fileKey)) { let fileName = file.stem; let extractData = extractMqFrom[fileKey]; let cssContent = file.contents.toString(); let reworkData = rework(cssContent).use(moveMedia()); let stylesheets = splitMedia(reworkData); let stylesheetKeys = Object.keys(stylesheets); let filteredMq = []; let originalCSS = []; stylesheetKeys.forEach(function(key) { let notExtracted = true; for (let mqKey in extractData) { if (key === extractData[mqKey]) { let contents = stringify(stylesheets[key]); filteredMq.push([mqKey, contents]); notExtracted = false; break; } } if (notExtracted) { let contents = stringify(stylesheets[key]); if (key.length) { originalCSS.push(`@media ${key} {\\n${contents}\\n}`); } else { originalCSS.push(contents); } } }); filteredMq.forEach(function(key) { let newFile = file.clone({ contents: false }); let name = cleanUpString(`${fileName}-${key[0]}`); let filepath = pathjoin(dirname(file.path), `${name}.css`); newFile.contents = new Buffer(key[1]); newFile.path = filepath; stream.push(newFile); }); file.contents = new Buffer(originalCSS.join('\\n')); callback(null, file); } else { callback(null, file); } }); } Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"module-tasks__helpers.html":{"id":"module-tasks__helpers.html","title":"Модуль: tasks/_helpers","body":" Модуль: tasks/_helpers requireconst _helpers = require(&quot;./tasks/_helpers&quot;);es6 importimport _helpers from &quot;./tasks/_helpers&quot;; Связанные материалы module:tasks/_modules-params https://nodejs.org/docs/latest/api/fs.html https://nodejs.org/docs/latest/api/path.html Для работы необходимы https://www.npmjs.com/package/fs https://www.npmjs.com/package/path https://www.npmjs.com/package/chalk https://www.npmjs.com/package/file-save Класcы Helpers Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"module-tasks__helpers-Helpers.html":{"id":"module-tasks__helpers-Helpers.html","title":"Класс: Helpers","body":" Класс: Helpers tasks/_helpers~ Helpers Набор параметров для конфигурации nodejs модулей new Helpers() Методы consoleMessage(message [, status]) Составление лог уведомления Параметры: Имя Тип Аргумент Описание message string | Array контент уведомления status sring &lt;опционально&gt; ключ статуса, по которому будет выбран символ из _symbols для уведомления Возвращает: sring Исходный код: consoleMessage(message, status) { status = status in _symbols ? `${_symbols[status]}${_indent}` : `${_indent}`; switch(typeof message) { case 'string': break; case 'object': if (message !== null &amp;&amp; message.length) { message = `${message.join(`\\n${_indent}`)}`; break; } default: message = `without message`; } return `${status}${message}`; } getFile(filePath, resolve, reject) Получение файла Параметры: Имя Тип Описание filePath string путь к файлу resolve function reject function Исходный код: getFile(filePath, resolve, reject) { try { fs.accessSync(filePath); return resolve(fs.readFileSync(filePath), filePath); } catch(err) { return reject(err, filePath); } } getFileStat_mtime(filePath, isGetTime) Получает дату или время последней модификации файла Связанные материалы: Helpers#getFileStats Параметры: Имя Тип Описание filePath string isGetTime boolean перевод дату в число(мс) Возвращает: string | number Исходный код: getFileStat_mtime(filePath, isGetTime) { let mtime = this.getFileStats(filePath).mtime; if (isGetTime) return mtime.getTime(); return mtime; } getFileStats(filePath) Получает статистику(свойства) файла Параметры: Имя Тип Описание filePath string Возвращает: Object Исходный код: getFileStats(filePath) { return fs.statSync(filePath); } logError(message [, isCritical=]) Вывод уведомления в консоль терминала при ошибке.Если ошибка критическая - процесс будет остановлен Связанные материалы: Helpers#consoleMessage Параметры: Имя Тип Аргумент Описание message string уведомление isCritical= boolean &lt;опционально&gt; флаг критической ошибки Исходный код: logError(message, isCritical) { message = this.consoleMessage(message, 'error'); console.log(chalk.red(message)); if (isCritical) { console.log(chalk.red(`${_indent}Exit !!!`)); process.exit(0); } } logMsg(message [, messageStatus]) Вывод уведомления в консоль терминала Связанные материалы: Helpers#consoleMessage Параметры: Имя Тип Аргумент По умолчанию Описание message string уведомление messageStatus string &lt;опционально&gt; 'info' уведомление Исходный код: logMsg(message, messageStatus='info') { let chalkColor = 'blue'; switch(messageStatus) { case 'done': chalkColor = 'green'; break; case 'warn': chalkColor = 'yellow'; break; case 'del': chalkColor = 'red'; break; default: messageStatus = 'info'; } message = this.consoleMessage(message, messageStatus); console.log(chalk[chalkColor](message)); } setNewPropToObject(sampleObject, propertyKey, dataType) Создание нового свойства, если не было определенно ранее Параметры: Имя Тип Описание sampleObject Object propertyKey string dataType * Исходный код: setNewPropToObject(sampleObject, propertyKey, dataType) { if (!sampleObject.hasOwnProperty(propertyKey)) { sampleObject[propertyKey] = dataType; } } writeFile(filePath, fileContent) Запись файла Параметры: Имя Тип Описание filePath string путь к файлу fileContent string собержание файла Исходный код: writeFile(filePath, fileContent) { fileSave(filePath) .write(fileContent, 'utf-8', () =&gt; { this.logMsg(`writed file ${path.resolve(filePath)}`, 'done'); }) .error(function() { this.logError(`on write file ${path.resolve(filePath)}`) }); } Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"module-tasks__modules-params.html":{"id":"module-tasks__modules-params.html","title":"Модуль: tasks/_modules-params","body":" Модуль: tasks/_modules-params requireconst _modulesParams = require(&quot;./tasks/_modules-params&quot;);es6 importimport _modulesParams from &quot;./tasks/_modules-params&quot;;Модуль который експортирует объект с параметрами для конфигурации nodejs модулей Для работы необходимы https://www.npmjs.com/package/deep-extend module:tasks/_helpers Класcы modulesParams Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"module-tasks__modules-params-modulesParams.html":{"id":"module-tasks__modules-params-modulesParams.html","title":"Класс: modulesParams","body":" Класс: modulesParams tasks/_modules-params~ modulesParams Набор параметров для конфигурации nodejs модулей new modulesParams() Методы gulpAutoprefixerConfig( [customConfig]) Настройка параметров для модуля gulp-autoprefixer. офф документация по параметрам https://github.com/postcss/autoprefixer#options Параметры: Имя Тип Аргумент По умолчанию Описание customConfig Object &lt;опционально&gt; {} пользовательские параметры Возвращает: Список конфигурцаии. Array Исходный код: gulpAutoprefixerConfig(customConfig={}) { let baseConfig = { browsers: [ '&gt; 1%' ], cascade: false }; if (customConfig) { return deepExtend(baseConfig, customConfig); } return baseConfig; } gulpCssLintConfig( [customConfig]) Настройка параметров для модуля gulp-csslint. офф документация https://github.com/CSSLint/csslint/wiki/Rules Параметры: Имя Тип Аргумент По умолчанию Описание customConfig Object &lt;опционально&gt; {} пользовательские параметры Возвращает: Список конфигурцаии. Array Исходный код: gulpCssLintConfig(customConfig={}) { let baseConfig = { // errors 'empty-rules': 2, // warning 'ids': 1, // disabled 'box-sizing': 0, 'universal-selector': 0, 'unqualified-attributes': 0, 'compatible-vendor-prefixes': 0 }; if (customConfig) { return deepExtend(baseConfig, customConfig); } return baseConfig; } gulpCssnanoConfig( [customConfig]) Настройка параметров для модуля gulp-autoprefixer. офф документация по параметрам http://cssnano.co/optimisations/ Параметры: Имя Тип Аргумент По умолчанию Описание customConfig Object &lt;опционально&gt; {} пользовательские параметры Возвращает: Список конфигурцаии. Array Исходный код: gulpCssnanoConfig(customConfig={}) { let baseConfig = { zindex: false, autoprefixer: false, discardUnused: false }; if (customConfig) { return deepExtend(baseConfig, customConfig); } return baseConfig; } gulpEsLintConfig( [customConfig]) Настройка параметров для модуля gulp-eslint. https://github.com/adametry/gulp-eslint список правил http://eslint.org/docs/rules/ Параметры: Имя Тип Аргумент По умолчанию Описание customConfig Object &lt;опционально&gt; {} пользовательские параметры Возвращает: Список конфигурцаии. Array Исходный код: gulpEsLintConfig(customConfig={}) { let baseConfig = { rules: { // warning 'no-debugger': 2, 'no-empty': 2, 'no-empty-pattern': 2, 'no-eval': 2, 'no-native-reassign': 2, 'no-alert': 2, 'use-isnan': 2, // warning 'no-case-declarations': 1, 'camelcase': 1, 'valid-jsdoc': 1, 'valid-typeof': 1, 'no-console': [ 1, { allow: [&quot;warn&quot;, &quot;error&quot;] } ], // disabled 'strict': 0 }, globals: [ 'jQuery', '$' ], envs: [ 'browser' ] }; if (customConfig) { return deepExtend(baseConfig, customConfig); } return baseConfig; } gulpHtmlBeautify( [customConfig]) Настройка параметров для модуля gulp-html-beautify. Параметры: Имя Тип Аргумент По умолчанию Описание customConfig Object &lt;опционально&gt; {} пользовательские параметры Возвращает: Список конфигурцаии. Array Исходный код: gulpHtmlBeautify(customConfig={}) { let baseConfig = { indent_char: '\\t', indent_size: 1, indent_level: 0, eol: &quot;\\n&quot;, indent_with_tabs: false, preserve_newlines: true, max_preserve_newlines: 1, jslint_happy: false, space_after_anon_function: false, brace_style: &quot;collapse&quot;, keep_array_indentation: false, keep_function_indentation: false, space_before_conditional: true, break_chained_methods: false, eval_code: false, unescape_strings: false, wrap_line_length: 0, wrap_attributes: &quot;auto&quot;, wrap_attributes_indent_size: 4, end_with_newline: true, unformatted: ['pre', 'code', 'script', 'style'] }; if (customConfig) { return deepExtend(baseConfig, customConfig); } return baseConfig; } gulpJsGetLibs( [jsLibs]) Составление скриптов библиотек - метод в работе. Параметры: Имя Тип Аргумент По умолчанию Описание jsLibs Object &lt;опционально&gt; [] библиотеки Возвращает: Набор pipe'ов. Stream Исходный код: gulpJsGetLibs(jsLibs=[]) { let libs = []; jsLibs.forEach((jsLib) =&gt; { let branch = `gulpJsLib${jsLib.name}`; if (!!this[branch]) { libs.push(this[`gulpJsLibModernizr`](jsLib.options)); } }); return libs; } gulpNotify(options [, receivedFilesList] [, happened]) Параметры для модуля gulp-notify.Метод вернет конфигурацию на основе параметра notifyOn: 'each' - вернет параметры из modulesParams#gulpNotifyEach 'last' - вернет параметры из modulesParams#gulpNotifyLast Параметры: Имя Тип Аргумент По умолчанию Описание options object передаваемые параметры Свойтсва Имя Тип Аргумент По умолчанию Описание notifyOn string &lt;опционально&gt; 'last' метод уведомления notifyTime number &lt;опционально&gt; 2000 время показа уведомления (ms) notifyIsShort boolean &lt;опционально&gt; false выводить краткое уведомдение - только количество файлов, параметр воздействует только при опции notifyOn:'last' receivedFilesList Array &lt;опционально&gt; [] список отработанных файлов happened string &lt;опционально&gt; название действия с файлами Возвращает: Объект конфигурцаии в зависимости от опции notifyOn object Исходный код: gulpNotify(options, receivedFilesList, happened) { if (options.notifyOn == 'each') { return this.gulpNotifyEach(options, happened); } return this.gulpNotifyLast(options, receivedFilesList, happened); } gulpNotifyEach(options [, happened]) Настройка параметров для модуля gulp-notify.Вывод уведомления после обработки каждого файла. Параметры: Имя Тип Аргумент По умолчанию Описание options object передаваемые параметры Свойтсва Имя Тип Аргумент По умолчанию Описание notifyOn string &lt;опционально&gt; 'last' метод уведомления notifyTime number &lt;опционально&gt; 2000 время показа уведомления (ms) notifyIsShort boolean &lt;опционально&gt; false выводить краткое уведомдение - только количество файлов happened string &lt;опционально&gt; '' название действия с файлами Возвращает: Объект конфигурцаии. object Исходный код: gulpNotifyEach(options, happened='') { return { time: options.notifyTime || 2000, title: options.taskName, message: () =&gt; { return ` ${happened}`; } }; } gulpNotifyLast(options [, receivedFilesList] [, happened]) Настройка параметров для модуля gulp-notify.Вывод уведомления будет в конце вызавыющей задачи, после обработки всех файлов. Параметры: Имя Тип Аргумент По умолчанию Описание options object передаваемые параметры Свойтсва Имя Тип Аргумент По умолчанию Описание notifyOn string &lt;опционально&gt; 'last' метод уведомления notifyTime number &lt;опционально&gt; 2000 время показа уведомления (ms) notifyIsShort boolean &lt;опционально&gt; false выводить краткое уведомдение - только количество файлов receivedFilesList Array &lt;опционально&gt; [] список отработанных файлов happened string &lt;опционально&gt; 'done' название действия с файлами Возвращает: Объект конфигурцаии. object Исходный код: gulpNotifyLast(options, receivedFilesList=[], happened='done') { return { onLast: true, time: options.notifyTime || 2000, title: () =&gt; { return `${options.taskName} (${receivedFilesList.length})`; }, message: () =&gt; { if (options.notifyIsShort) { return happened; } return `\\n\\t${receivedFilesList.join('\\n\\t')}`; } }; } gulpNotifyOnError(taskName) Настройка параметров для модуля gulp-notify для метода onError. Параметры: Имя Тип Описание taskName string имя задачи Возвращает: Объект конфигурцаии. object Исходный код: gulpNotifyOnError(taskName) { return { title: `Error ${taskName}`, message: '&lt;%= error.message %&gt;' }; } gulpSassConfig( [customConfig]) Настройка параметров для модуля gulp-autoprefixer. Параметры: Имя Тип Аргумент По умолчанию Описание customConfig Object &lt;опционально&gt; {} пользовательские параметры Возвращает: Список конфигурцаии. Array Исходный код: gulpSassConfig(customConfig={}) { let baseConfig = { outputStyle: 'expanded' }; if (customConfig) { return deepExtend(baseConfig, customConfig); } return baseConfig; } gulpSassLintConfig( [customConfig]) Настройка параметров для модуля gulp-sass-lint. офф документация https://github.com/sasstools/sass-lint/tree/develop/docs Параметры: Имя Тип Аргумент По умолчанию Описание customConfig Object &lt;опционально&gt; {} пользовательские параметры Возвращает: Список конфигурцаии. Array Исходный код: gulpSassLintConfig(customConfig={}) { let baseConfig = { rules: { // warning 'clean-import-paths': 1, 'no-ids': 1, 'indentation': [ 1, { size: 'tab' } ], 'class-name-format': [ 1, { 'allow-leading-underscore': true, 'convention': 'camelcase' } ], 'mixin-name-format': [ 1, { 'allow-leading-underscore': true, 'convention': 'camelcase' } ], // disabled 'leading-zero': 0, 'empty-line-between-blocks': 0, 'force-element-nesting': 0, 'property-sort-order': 0 } }; if (customConfig) { return deepExtend(baseConfig, customConfig); } return baseConfig; } gulpUglifyConfig( [customConfig]) Настройка параметров для модуля gulp-uglify. офф документация по параметрам http://cssnano.co/optimisations/ Параметры: Имя Тип Аргумент По умолчанию Описание customConfig Object &lt;опционально&gt; {} пользовательские параметры Возвращает: Список конфигурцаии. Array Исходный код: gulpUglifyConfig(customConfig={}) { let baseConfig = { mangle: false }; if (customConfig) { return deepExtend(baseConfig, customConfig); } return baseConfig; } jsdoc3Config(options, configObject) Расширение системной конфигурация модуля gulp-jsdoc на основе пользовательских параметров. Связанные материалы: module:tasks/jsdoc module:tasks/htmldoc Параметры: Имя Тип Описание options Object Параметры задачи, из которой идет вызов данного метода Свойтсва Имя Тип Описание taskName string имя задачи destination Array.&lt;string&gt; директория для генирации документации tutorials Array.&lt;string&gt; путь к сопутствующим туториалам templates.systemName string Имя раздела жокументации configObject Object Параметры системной конфигурации модуля gulp-jsdoc Исходный код: jsdoc3Config(options, configObject) { configObject.opts = configObject.opts || {}; configObject.opts.destination = options.dest; configObject.opts.tutorials = options.tutorials; configObject.templates.systemName = options.systemName || 'jsDoc Documentation'; } Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"module-tasks_clean.html":{"id":"module-tasks_clean.html","title":"Модуль: tasks/clean","body":" Модуль: tasks/clean module:tasks/clean(options) Модуль очистки (удаления) указанной директории или файлов.Для экспорта модуля в задачу используеться метод lazyRequireTask.В параметрах задачи ( src ) необходимо указать путь к директории или файлам которые нужно удалить. При успешном выполнении вы получите лог уведомление в терминале (если не выключен флаг log). Если указанный источник не будет обнаружен - вы получите сообщение [URL] - not exist При ошибке удаления - в терминале будет уведомление, с описанием ошибки. Такой результат будет считаться критическим поэтому node процесс будет остановлен. Для работы необходимы: https://www.npmjs.com/package/del https://www.npmjs.com/package/path module:tasks/_helpers Параметры: Имя Тип Описание options Object передаваемые параметры Свойтсва Имя Тип Аргумент По умолчанию Описание taskName string имя вызывающей задачи, задаеться автоматически isDevelop boolean флаг dev версии сборки, задаеться автоматически isProduction boolean флаг production версии сборки, задаеться автоматически package Object данные из package.json, задаеться автоматически src string | Array путь к директории или файлам которые нужно удалить log boolean &lt;опционально&gt; true флаг вывода лог уведомления при успешном действии Возвращает: Promise Исходный код: /** * Модуль очистки (удаления) указанной директории или файлов. * Для экспорта модуля в задачу используеться метод lazyRequireTask. * В параметрах задачи ( `src` ) необходимо указать путь к директории или файлам которые нужно удалить. * - При успешном выполнении вы получите лог уведомление в терминале (если не выключен флаг `log`). Если указанный источник не будет обнаружен - вы получите сообщение `[URL] - not exist` * - При ошибке удаления - в терминале будет уведомление, с описанием ошибки. Такой результат будет считаться критическим поэтому node процесс будет остановлен. * * * * @sourcecode code:tasks:clean -c * * @requires https://www.npmjs.com/package/del * @requires https://www.npmjs.com/package/path * @requires module:tasks/_helpers * * @param {Object} options - передаваемые параметры * @param {string} options.taskName - имя вызывающей задачи, *задаеться автоматически* * @param {boolean} options.isDevelop - флаг dev версии сборки, *задаеться автоматически* * @param {boolean} options.isProduction - флаг production версии сборки, *задаеться автоматически* * @param {Object} options.package - данные из `package.json`, *задаеться автоматически* * @param {string|Array} options.src - путь к директории или файлам которые нужно удалить * @param {boolean} [options.log=true] - флаг вывода лог уведомления при успешном действии * * @return {Promise} */ module.exports = function(options) { // возврашаем функцию для задачи return function(cb) { // возвращаем Promise return del(options.src) // после выполнения .then( paths =&gt; { // если log не отключен if (options.log !== false) { // если источник не найден заменяем текст if (paths &amp;&amp; paths.length === 0) { paths = `${options.src} - not exist`; } // выводим уведомление _helpers.logMsg(paths, 'del'); } }, error =&gt; { // выводим ошибку (критическую) _helpers.logError(error, true); } ); }; } Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"module-tasks_ejs.html":{"id":"module-tasks_ejs.html","title":"Модуль: tasks/ejs","body":" Модуль: tasks/ejs requireconst {moduleName} = require(&quot;./tasks/ejs&quot;)(options);es6 importimport {moduleImportName} from &quot;./tasks/ejs&quot;;const {moduleName} = {moduleImportName}(options); Модуль компиляции ejs файлов. Туториалы: Компиляция разметки Связанные материалы: http://ejs.co/ https://github.com/RandomEtc/ejs-locals/ Для работы необходимы: gulpjs/gulp#4.0 https://www.npmjs.com/package/multipipe https://www.npmjs.com/package/gulp-load-plugins https://www.npmjs.com/package/gulp-if https://www.npmjs.com/package/gulp-ejs-locals https://www.npmjs.com/package/gulp-html-beautify https://www.npmjs.com/package/gulp-changed https://www.npmjs.com/package/gulp-rename https://www.npmjs.com/package/gulp-notify module:tasks/_modules-params To Do: Написать подробные туториалы по работе и составлению разметки Написать внутренней роутер, для удобства подлючения файлов, с авто определением относительных путей Параметры: Имя Тип Описание options Object передаваемые параметры Свойтсва Имя Тип Аргумент По умолчанию Описание taskName string имя вызывающей задачи, задаеться автоматически isDevelop boolean флаг dev версии сборки, задаеться автоматически isProduction boolean флаг production версии сборки, задаеться автоматически package Object данные из package.json, задаеться автоматически dest string путь к итоговой директории src string путь к исходной директории changeExt string &lt;опционально&gt; сменить расширение файла, при указании, должно содержать точку вначале locals Object обект глобальных данных, которые будут доступны внутри всех *.ejs файлов Свойтсва Имя Тип Описание _projectName string Имя проекта _projectResponsive boolean флаг адаптавности _projectWezom boolean проект студии Wezom beautify boolean флаг форматирования скомпелированного html кода beautifyConfig Object &lt;опционально&gt; пользовательские параметры для gulp-html-beautify. параметры по умолчанию - modulesParams#gulpHtmlBeautify watch Array &lt;опционально&gt; набор путей, для вотчинга filter boolean &lt;опционально&gt; true флаг исрользования фильтровки файлов notify boolean &lt;опционально&gt; false выводить уведомление по окончанию трансфера notifyOn string &lt;опционально&gt; 'last' метод уведомления, параметр передается дальше методу modulesParams#gulpNotify notifyTime number &lt;опционально&gt; 2000 время показа уведомления, параметр передается дальше методу modulesParams#gulpNotify notifyIsShort boolean &lt;опционально&gt; false выводить краткое уведомдение - только количество файлов, параметр воздействует только при опции notifyOn:'last'. Параметр передается дальше методу modulesParams#gulpNotify Возвращает: function Исходный код: module.exports = function(options) { // возврашаем функцию для задачи return function(cb) { // vars // ======== // список скомпилированных файлов let receivedFilesList = []; // флаг фильтровки let isFilter = options.filter !== false; let ejsLocals = options.locals || {}; ejsLocals._getActiveFile = (filepath) =&gt; { let _filename = filepath.split('\\\\').pop().split('.'); _filename.pop(); return _filename.join('.'); } // streams // ======== // составление multipipe компиляции let streamEjs = multipipe( $.ejsLocals(ejsLocals), $.if( options.beautify, $.htmlBeautify(_modulesParams.gulpHtmlBeautify(options.beautifyConfig)) ) ).on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`compile - ${options.taskName}`)) ); // task // ======== return gulp.src(options.src) // компиляция .pipe(streamEjs) // если нужно сменить расширенние файла .pipe($.if( !!options.changeExt, $.rename((path) =&gt; { path.extname = options.changeExt; }) )) // фильтровка изменений в стриме .pipe($.if( isFilter, $.changed( options.dest, { hasChanged: $.changed.compareSha1Digest } ) )) .pipe(gulp.dest(options.dest)) .on('data', (file) =&gt; { receivedFilesList.push(file.relative); }) .pipe($.if( options.notify, $.notify(_modulesParams.gulpNotify(options, receivedFilesList, 'compiled')) )) .pipe($.if( options.browserSyncReload, options.browserSync.stream({ once: true }) )); }; } Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"module-tasks_htmldoc.html":{"id":"module-tasks_htmldoc.html","title":"Модуль: tasks/htmldoc","body":" Модуль: tasks/htmldoc requireconst {moduleName} = require(&quot;./tasks/htmldoc&quot;)(options);es6 importimport {moduleImportName} from &quot;./tasks/htmldoc&quot;;const {moduleName} = {moduleImportName}(options); Документация html файлов, на основе комментариев и gulp-jsdoc3 Туториалы: Документация HTML файлов Связанные материалы: module:tasks/jsdoc ./tasks/jsdoc-theme/jsdoc.conf.json Для работы необходимы: gulp#4 https://www.npmjs.com/package/gulp-jsdoc3 https://www.npmjs.com/package/through2 module:tasks/_modules-params To Do: Составить больше примеров использования модуля и вариаций документации кода Параметры: Имя Тип Описание options Object передаваемые параметры Свойтсва Имя Тип Описание taskName string имя вызывающей задачи, задаеться автоматически isDevelop boolean флаг dev версии сборки, задаеться автоматически isProduction boolean флаг production версии сборки, задаеться автоматически package Object данные из package.json, задаеться автоматически systemName string тайтл документации tutorials string путь к директории туториалов для раздела документации tmpFiles string директория для темповских файлов tmpMD string темповские файл где будут вписанны все @todo записи, со всех найденных страниц dest string путь к директории итоговой документации src string | Array путь к документируемым файлам Возвращает: function Исходный код: module.exports = function(options) { return function(cb) { // составление конфигурации для jsdoc модуля _modulesParams.jsdoc3Config(options, jsdocConfig); // указываем флаг htmldoc jsdocConfig.htmldoc = true; // объект для сбора найденых `@todo` пунктов let mdTokens = {}; gulp.src(options.src) // парсим каждый файл .pipe(throughObj((file, enc, callback) =&gt; { // если markdown файл (индексовый) if (file.extname == '.md') { let mdFile = new Vinyl({ path: `${options.tmpFiles}/${file.relative}`, contents: file.contents }); callback(null, mdFile); // если html файл } else if (file.extname == '.html') { let markup = file.contents.toString(); let tokens = []; let filename; let starts = [] let startIndex = 0; let tmpMarkup = markup; function replacer(str, p1, p2, offset, s) { var num = tmpMarkup.indexOf(str); starts.push(num); var _r = ''; for (var i = 0; i &lt; str.length; i++) { _r += ' '; } var start = tmpMarkup.slice(0, num); var end = tmpMarkup.slice(num + str.length); tmpMarkup = start + _r + end; } // ищем комментарии с тегом `@htmldoc` tmpMarkup.replace(regexComment, replacer); markup.replace(regexComment, (comment, p1, p2, offset, s) =&gt; { // получаем номер строки let num = starts[startIndex++]; let lines = markup.slice(0, num).split('\\n'); let lineno = lines.length; // отсекаем лишние куски комментария let task = comment.replace(regexTodoStart, ''); task = task.replace(regexTodoEnd, '').split('\\n'); let length = task.length; // формируем текст комментария if (length &gt; 1) { let last = task[length - 1]; let indent; last.replace(/^(\\s|\\t)*/, (space) =&gt; { indent = space; }); task.forEach((entry, i) =&gt; { task[i] = entry.replace(indent, ''); }); } task = task.join('\\n'); // имя файла filename = file.relative; // состовляем блок для `jsdoc` комментария tokens.push({ filename, comment, task, lineno }); // составляем блок для `markdown` страницы со списком `todo` пунктов let mdTask = []; task.replace(regexTodo, (todoTask) =&gt; { mdTask.push(`- ${todoTask.slice(6)}`); }); if (mdTask.length) { _helpers.setNewPropToObject(mdTokens, filename, []); mdTokens[filename].push({ lineno: `**todo** -&gt; *lineno* \\` ${lineno} \\`\\n`, task: mdTask.join('\\n') }); } }); // если найдены и составлены блоки if (tokens.length) { // начало js файла let pageContent = [ jsCommentStart, jsCommentHtmlDocs, jsCommentNS(filename), jsCommentEnd ]; // наполняем js файл составлеными `jsdoc` комментами tokens.forEach((entry, i) =&gt; { let jsCommentList = [ jsCommentStart, entry.task, jsCommentMember(filename), jsCommentLine(entry.lineno), jsCommentEnd, jsCommentPoint(i+1) ]; pageContent.push(jsCommentList.join('\\n')); }); // создаем js файл filename = filename.split('.'); filename.pop(); let jsFile = new Vinyl({ path: `${options.tmpFiles}/${filename.join('.')}.js`, contents: new Buffer(pageContent.join('\\n')) }); callback(null, jsFile); } else { callback(); } } else { callback(); } }, (callback) =&gt; { // после прохода всех файлов создадим темповский md файл if (Object.keys(mdTokens).length) { let mdFileConent = [`\\n-----\\n\\n### TODO List\\n`] for (let page in mdTokens) { mdFileConent.push(`#### ${page}\\n`); for (var i = 0; i &lt; mdTokens[page].length; i++) { let pageContent = mdTokens[page][i]; mdFileConent.push(`${pageContent.lineno}`); mdFileConent.push(`${pageContent.task}\\n`); } } mdFileConent.push('-----\\n'); _helpers.writeFile(`${options.tmpMD}`, mdFileConent.join('\\n')); } callback(); })) // сохраняем все полученные файлы .pipe(gulp.dest('./')) // отправляем модулю `gulp-jsdoc` .pipe(jsdoc3(jsdocConfig, cb)); }; } Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"module-tasks_js.html":{"id":"module-tasks_js.html","title":"Модуль: tasks/js","body":" Модуль: tasks/js requireconst {moduleName} = require(&quot;./tasks/js&quot;)(options);es6 importimport {moduleImportName} from &quot;./tasks/js&quot;;const {moduleName} = {moduleImportName}(options); Модуль компиляции js файлов. Туториалы: Компиляция скриптов Для работы необходимы: gulpjs/gulp#4.0 https://www.npmjs.com/package/multipipe https://www.npmjs.com/package/gulp-load-plugins https://www.npmjs.com/package/gulp-if https://www.npmjs.com/package/gulp-changed https://www.npmjs.com/package/gulp-notify https://www.npmjs.com/package/gulp-concat https://www.npmjs.com/package/gulp-include https://www.npmjs.com/package/gulp-wrap module:tasks/_modules-params Параметры: Имя Тип Описание options Object передаваемые параметры Свойтсва Имя Тип Аргумент По умолчанию Описание taskName string имя вызывающей задачи, задаеться автоматически isDevelop boolean флаг dev версии сборки, задаеться автоматически isProduction boolean флаг production версии сборки, задаеться автоматически package Object данные из package.json, задаеться автоматически dest string путь к итоговой директории src string путь к исходной директории concat boolean &lt;опционально&gt; конкат файлов changeExt string &lt;опционально&gt; сменить расширение файла, при указании, должно содержать точку вначале watch Array &lt;опционально&gt; набор путей, для вотчинга filter boolean &lt;опционально&gt; true флаг исрользования фильтровки файлов notify boolean &lt;опционально&gt; false выводить уведомление по окончанию трансфера notifyOn string &lt;опционально&gt; 'last' метод уведомления, параметр передается дальше методу modulesParams#gulpNotify notifyTime number &lt;опционально&gt; 2000 время показа уведомления, параметр передается дальше методу modulesParams#gulpNotify notifyIsShort boolean &lt;опционально&gt; false выводить краткое уведомдение - только количество файлов, параметр воздействует только при опции notifyOn:'last'. Параметр передается дальше методу modulesParams#gulpNotify Возвращает: function Исходный код: module.exports = function(options) { // возврашаем функцию для задачи return function(cb) { // vars // ======== // флаг фильтровки let isFilter = options.filter !== false; // флаг конката let isConcat = options.concat == true; // streams // ======== // составление multipipe компиляции modernizr.js let streamModernizr = multipipe( $.modernizr(options.modernizrConfig || {}), throughObj((file, enc, callback) =&gt; { if (file.extname === ) { return callback(null, file); } return callback(); }) ).on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`modernizr - ${options.taskName}`)) ); // составление multipipe для линтинга css let streamEsLint = multipipe( $.if((file) =&gt; { return (file.extname === '.js' &amp;&amp; file.relative.split('\\\\')[0] !== 'vendor'); }, multipipe( $.eslint(_modulesParams.gulpEsLintConfig(options.eslintConfig)), $.eslint.format(), $.eslint.failAfterError(), // если есть ошибки - fail $.if((file) =&gt; { return !!file.eslint.errorCount; }, multipipe( throughObj((file, enc, callback) =&gt; { return callback(); }) ) ), // если есть предупреждения - notify $.if((file) =&gt; { return !!file.eslint.warningCount; }, $.notify({ title: `ESLint WARN`, message: `` }) ) ) ) ).on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`ESLint - ${options.taskName}`)) ); // task // ======== if (isConcat) { var folders = options.getFolders(options.src); folders.map(function (folder) { let files = []; let source = path.join(options.src, folder, '*.js'); gulp.src(source) .pipe(multipipe( $.if( options.maps, $.sourcemaps.init() ), $.include(), $.wrap('\\n/* &lt;%= file.relative %&gt;\\n ================================== */\\n&lt;%= contents %&gt;\\n'), $.concat(`${folder}/${folder}.js`), $.if( options.min, $.uglify(_modulesParams.gulpUglifyConfig(options.minConfig)) ), $.if( options.maps, $.sourcemaps.write('/') ) ).on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`Stream - ${options.taskName}`)) ) ) .pipe($.if( isFilter, $.changed( options.dest, { hasChanged: $.changed.compareSha1Digest } ) )) .pipe(gulp.dest(options.dest)) .on('data', (file) =&gt; { files.push(file.relative); }) .pipe($.if( options.notify, $.notify(_modulesParams.gulpNotify(options, files, 'compiled')) )) .pipe($.if( options.browserSyncReload, options.browserSync.stream() )); }); cb(); } else { // список скомпилированных файлов let receivedFilesList = []; return gulp.src(options.src) .pipe(multipipe( $.if( options.modernizr, streamModernizr ), $.if( options.maps, $.sourcemaps.init() ), $.if( options.min, $.uglify(_modulesParams.gulpUglifyConfig(options.minConfig)) ), $.if( options.eslint, streamEsLint ), $.if( options.maps, $.sourcemaps.write('/') ), $.if((/\\.js$/ &amp;&amp; !!options.changeExt), $.rename((path) =&gt; { path.extname = options.changeExt; }) ), $.if(isFilter, $.changed( options.dest, {hasChanged: $.changed.compareSha1Digest} ) ) ).on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`Stream - ${options.taskName}`)) ) ) .pipe(gulp.dest(options.dest)) .on('data', (file) =&gt; { receivedFilesList.push(file.relative); }) .pipe($.if( options.notify, $.notify(_modulesParams.gulpNotify(options, receivedFilesList, 'compiled')) )) .pipe($.if( options.browserSyncReload, options.browserSync.stream() )); } }; } Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"module-tasks_jsdoc.html":{"id":"module-tasks_jsdoc.html","title":"Модуль: tasks/jsdoc","body":" Модуль: tasks/jsdoc requireconst {moduleName} = require(&quot;./tasks/jsdoc&quot;)(options);es6 importimport {moduleImportName} from &quot;./tasks/jsdoc&quot;;const {moduleName} = {moduleImportName}(options); Документация js файлов, на основе комментариев jsdoc Туториалы: Документация JS файлов Документация GULP сборки Tutorial: jsdoc Связанные материалы: ./tasks/jsdoc-theme/jsdoc.conf.json Для работы необходимы: gulp#4 https://www.npmjs.com/package/gulp-jsdoc3 module:tasks/_modules-params To Do: Составить больше примеров использования модуля и вариаций документации кода Параметры: Имя Тип Описание options Object передаваемые параметры Свойтсва Имя Тип Описание taskName string имя вызывающей задачи, задаеться автоматически isDevelop boolean флаг dev версии сборки, задаеться автоматически isProduction boolean флаг production версии сборки, задаеться автоматически package Object данные из package.json, задаеться автоматически systemName string тайтл документации tutorials string путь к директории туториалов для раздела документации dest string путь к директории итоговой документации src string | Array путь к документируемым файлам Возвращает: function Исходный код: /** * Документация `js` файлов, на основе комментариев `jsdoc` * * * * @todo Составить больше примеров использования модуля и вариаций документации кода * * @moduleLocal * @sourcecode code:tasks:jsdoc -c * * @tutorial docs-js * @tutorial docs-gulp * @tutorial jsdoc * * @see ./tasks/jsdoc-theme/jsdoc.conf.json * * @requires gulp#4 * @requires https://www.npmjs.com/package/gulp-jsdoc3 * @requires module:tasks/_modules-params * * @param {Object} options - передаваемые параметры * @param {string} options.taskName - имя вызывающей задачи, *задаеться автоматически* * @param {boolean} options.isDevelop - флаг dev версии сборки, *задаеться автоматически* * @param {boolean} options.isProduction - флаг production версии сборки, *задаеться автоматически* * @param {Object} options.package - данные из `package.json`, *задаеться автоматически* * @param {string} options.systemName - тайтл документации * @param {string} options.tutorials - путь к директории туториалов для раздела документации * @param {string} options.dest - путь к директории итоговой документации * @param {string|Array} options.src - путь к документируемым файлам * * @return {Function} */ module.exports = function(options) { // возвращаем задачу return function(cb) { // расширяем системный конфиг jsdoc на основе пользовательских параметров _modulesParams.jsdoc3Config(options, jsdocConfig); // генерация документации gulp.src(options.src, {read: false}) .pipe(jsdoc3(jsdocConfig, cb)); }; } Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"module-tasks_jsdoc-theme_plugins_defineTags.html":{"id":"module-tasks_jsdoc-theme_plugins_defineTags.html","title":"Модуль: tasks/jsdoc-theme/plugins/defineTags","body":" Модуль: tasks/jsdoc-theme/plugins/defineTags Автор: Олег Дутченко &lt;dutchenko.o.wezom@gmail.com&gt; Методы &lt;static&gt; defineTags(dictionary) Экспортируемый обработчик Туториалы: Tutorial: docs-workflow-jsdoc Параметры: Имя Тип Описание dictionary Object справочник доклетов Исходный код: exports.defineTags = function(dictionary) { // определение локольного модуля dictionary.defineTag('moduleLocal', { mustNotHaveValue: true, onTagged: function(doclet, tag) { doclet.moduleLocal = true; } }); // определение модуля без es6 импорта dictionary.defineTag('moduleNoES6Import', { mustNotHaveValue: true, onTagged: function(doclet, tag) { doclet.moduleNoES6Import = true; } }); dictionary.defineTag('newscope', { onTagged: function(doclet, tag) { doclet.newScope = true; if (!!tag.value) { doclet.newScopeValue = tag.value; } } }); // прунудительное определение и вывод номера строки на кторой начинаеться документируемый код dictionary.defineTag('lineno', { onTagged: function(doclet, tag) { let num; if (tag.hasOwnProperty('value')) { num = tag.value; } else { num = doclet.meta.lineno; } doclet.lineNo = num; } }); // запоминание полного контента документируемого файла dictionary.defineTag('sourcefile', { mustHaveValue: true, onTagged: function(doclet, tag) { let filePath = path.join(doclet.meta.path, doclet.meta.filename); let fileSource = fs.readFileSync(filePath).toString(); doclet.sourcefile = { name: tag.value, source: fileSource } //console.log(doclet); } }); // запоминание блока контента документируемого js кода dictionary.defineTag('sourcecode', { onTagged: function(doclet, tag) { let filePath = path.join(doclet.meta.path, doclet.meta.filename); let fileSource = fs.readFileSync(filePath).toString(); let range = doclet.meta.range; let codeSource = fileSource.slice(range[0], range[1]); let endLine = false; if (tag.hasOwnProperty('value')) { let name = tag.value.replace(/\\s\\-c$/, ''); let endIndex = fileSource.indexOf(`// endcode ${name}`); if (endIndex &gt; range[1]) { codeSource = fileSource.slice(range[1], endIndex); endLine = true; } } if (typeof codeSource == 'string') { if (!/^(\\s)*\\/\\*\\*/.test(codeSource)) { codeSource = _normalizeCode(codeSource); doclet.sourcecode = {}; let lineno = doclet.meta.lineno; if (tag.hasOwnProperty('value')) { if (/(\\s|\\t)*\\-c/.test(tag.value) &amp;&amp; !!doclet.comment) { let comments; if (endLine) { comments = _normalizeComment(fileSource.slice(range[0], range[1])); } else { comments = _normalizeComment(doclet.comment); let lines = comments.match(/\\n/g); if (lines !== null &amp;&amp; endLine !== true) { lineno -= (lines.length + 1); } } codeSource = `${comments}\\n${codeSource}`; } else if (endLine) { lineno = fileSource.slice(0, range[1]).split('\\n').length + 1; } let name = tag.value.replace(/(\\s|\\t)*\\-c/, ''); name = name.replace(/(\\s|\\t)/g, ''); if (name.length) { doclet.sourcecode.name = name; } } doclet.sourcecode.lineno = lineno; doclet.sourcecode.source = codeSource; } } } }); } &lt;inner&gt; _escape(code) Метод для исправления и экранирования символов в коде Параметры: Имя Тип Описание code string исходный js код Возвращает: исправленный код string Исходный код: function _escape(code) { code = code.replace(/'.*'/g, _rip); code = code.replace(/&quot;.*&quot;/g, _rip); code = code.replace(/\\n?([^\\'\\&quot;]*)?\\/.+\\//g, _rip); return code; } &lt;inner&gt; _normalizeCode(str) Метод нормализации отображения исходного кода Параметры: Имя Тип Описание str string исходный js код Возвращает: исправленный код string Исходный код: function _normalizeCode(str) { let lines = str.split('\\n'); let _flag = true; let _begin; for (let i = lines.length - 1; i &gt;= 0; i--) { let line = lines[i]; if (_flag &amp;&amp; /\\S/.test(line)) { _flag = false; lines[i] = line.replace(/^(\\s|\\t)+/, (part) =&gt; { _begin = part; return ''; }) } else { lines[i] = line.replace(_begin, ''); } } return _escape(lines.join('\\n')); } &lt;inner&gt; _normalizeComment(str) Метод нормализации отображения сопутствующего комментария перед исходным кодом Параметры: Имя Тип Описание str string исходный js комментарий Возвращает: исправленный комментарий string Исходный код: function _normalizeComment(str) { let lines = str.split('\\n'); let regex = /^(\\t|\\s)+\\*/; lines.forEach((line, i) =&gt; { if (regex.test(line)) { lines[i] = line.replace(regex, (part) =&gt; { return ' *'; }) } }); return lines.join('\\n'); } &lt;inner&gt; _rip(str) Метод для исправления объявления html тегов и делимитеров шаблонизатора Параметры: Имя Тип Описание str string строка для замены Возвращает: исправленная строка string Исходный код: function _rip(str) { str = str.replace(/&lt;/g,'&lt;'); str = str.replace(/%%ss/g,'%%%sss'); return str; } Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"module-tasks_sass.html":{"id":"module-tasks_sass.html","title":"Модуль: tasks/sass","body":" Модуль: tasks/sass requireconst {moduleName} = require(&quot;./tasks/sass&quot;)(options);es6 importimport {moduleImportName} from &quot;./tasks/sass&quot;;const {moduleName} = {moduleImportName}(options); Модуль компиляции scss файлов. Туториалы: Компиляция стилей Для работы необходимы: gulpjs/gulp#4.0 https://www.npmjs.com/package/multipipe https://www.npmjs.com/package/through2 https://www.npmjs.com/package/gulp-load-plugins https://www.npmjs.com/package/gulp-if https://www.npmjs.com/package/gulp-sass https://www.npmjs.com/package/gulp-autoprefixer https://www.npmjs.com/package/gulp-sourcemaps https://www.npmjs.com/package/gulp-cssnano https://www.npmjs.com/package/gulp-sass-lint https://www.npmjs.com/package/gulp-csslint https://www.npmjs.com/package/gulp-changed https://www.npmjs.com/package/gulp-combine-mq https://www.npmjs.com/package/gulp-rename https://www.npmjs.com/package/gulp-notify module:tasks/_modules-params Параметры: Имя Тип Описание options Object передаваемые параметры Свойтсва Имя Тип Аргумент По умолчанию Описание taskName string имя вызывающей задачи, задаеться автоматически isDevelop boolean флаг dev версии сборки, задаеться автоматически isProduction boolean флаг production версии сборки, задаеться автоматически package Object данные из package.json, задаеться автоматически dest string путь к итоговой директории src string путь к исходной директории changeExt string &lt;опционально&gt; сменить расширение файла, при указании, должно содержать точку вначале watch Array &lt;опционально&gt; набор путей, для вотчинга sassConfig Object &lt;опционально&gt; пользовательские параметры компиляции sass файлов. параметры по умолчанию - modulesParams#gulpSassConfig autoprefixerConfig Object &lt;опционально&gt; пользовательские параметры для gulp-autoprefixer. параметры по умолчанию - modulesParams#gulpAutoprefixerConfig maps boolean флаг записи sourcemaps min boolean флаг минификации minConfig Object &lt;опционально&gt; пользовательские параметры минификации для gulp-cssnano. параметры по умолчанию - modulesParams#gulpCssnanoConfig sasslint boolean флаг линтинга sass файлов sasslintConfig Object &lt;опционально&gt; пользовательские параметры линтинга. параметры по умолчанию - modulesParams#gulpSassLintConfig csslint boolean флаг линтинга скомпилированных файлов csslintConfig Object &lt;опционально&gt; пользовательские параметры линтинга. параметры по умолчанию - modulesParams#gulpCssLintConfig filter boolean &lt;опционально&gt; true флаг исрользования фильтровки файлов notify boolean &lt;опционально&gt; false выводить уведомление по окончанию трансфера notifyOn string &lt;опционально&gt; 'last' метод уведомления, параметр передается дальше методу modulesParams#gulpNotify notifyTime number &lt;опционально&gt; 2000 время показа уведомления, параметр передается дальше методу modulesParams#gulpNotify notifyIsShort boolean &lt;опционально&gt; false выводить краткое уведомдение - только количество файлов, параметр воздействует только при опции notifyOn:'last'. Параметр передается дальше методу modulesParams#gulpNotify Возвращает: function Исходный код: module.exports = function(options) { // возврашаем функцию для задачи return function(cb) { // vars // ======== // флаг фильтровки let isFilter = options.filter !== false; // флаг конката let isConcat = options.concat == true; // streams // ======== // составление multipipe компиляции let streamSass = multipipe( $.sass(_modulesParams.gulpSassConfig(options.sassConfig)), $.autoprefixer(_modulesParams.gulpAutoprefixerConfig(options.autoprefixerConfig)), // если production версия - складываем mq $.if( options.isProduction, $.combineMq({ beautify: !options.min }) ), // если min вкл. $.if( options.min, $.cssnano(_modulesParams.gulpCssnanoConfig(options.minConfig)) ) ).on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`compile - ${options.taskName}`)) ); // составление multipipe для линтинга sass let streamSassLint = multipipe( $.if( (file) =&gt; { return (file.extname === '.scss' &amp;&amp; file.relative.split('\\\\')[0] !== 'vendor'); }, multipipe( $.sassLint(_modulesParams.gulpSassLintConfig(options.sasslintConfig)), $.if( (file) =&gt; { if (file.sassLint[0].warningCount &gt; 0) { console.log(chalk.magenta('\\n\\tSASS LINT\\n============================================================')); } return false; }, throughObj((file, enc, callback) =&gt; { return callback(null, file); }) ), $.sassLint.format(), $.sassLint.failOnError() ) ) ).on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`SASSLint - ${options.taskName}`)) ); // составление multipipe для линтинга css let streamCssLint = multipipe( $.if( (file) =&gt; { return (file.extname === '.css' &amp;&amp; file.relative.split('\\\\')[0] !== 'vendor'); }, multipipe( $.csslint(_modulesParams.gulpCssLintConfig(options.csslintConfig)), $.csslint.reporter(cssLintReporter), // если есть ошибки - fail $.if( (file) =&gt; { return !!file.cssLintFail; }, multipipe( $.csslint.reporter('fail'), throughObj((file, enc, callback) =&gt; { return callback(); }) ) ), // если есть предупреждения - notify $.if( (file) =&gt; { return !!file.cssLintWarns; }, $.notify({ title: `CSSLint WARN`, message: `` }) ) ) ) ).on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`CSSLint - ${options.taskName}`)) ); // task // ======== if (isConcat) { var folders = options.getFolders(options.src); folders.map(function (folder) { let files = []; console.log(folder); let source = path.join(options.src, folder, '*.scss'); gulp.src(source) .pipe(multipipe( $.if( options.maps, $.sourcemaps.init() ), streamSass, $.wrap('\\n/* &lt;%= file.relative %&gt;\\n ================================== */\\n&lt;%= contents %&gt;\\n'), $.concat(`${folder}.css`), $.if( options.maps, $.sourcemaps.write('/') ) ).on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`Stream - ${options.taskName}`)) ) ) .pipe($.if( isFilter, $.changed( options.dest, { hasChanged: $.changed.compareSha1Digest } ) )) .pipe(gulp.dest(options.dest)) .on('data', (file) =&gt; { files.push(file.relative); }) .pipe($.if( options.notify, $.notify(_modulesParams.gulpNotify(options, files, 'compiled')) )) .pipe($.if( options.browserSyncReload, options.browserSync.stream({ match: &quot;**/*.css&quot; }) )); }); cb(); } else { let receivedFilesList = []; return gulp.src(options.src) .pipe($.if( options.sasslint, streamSassLint )) .pipe($.if( options.maps, $.sourcemaps.init() )) .pipe(streamSass) .pipe($.if( options.csslint, streamCssLint )) .pipe($.if( options.maps, $.sourcemaps.write('/') )) .pipe($.if( (/\\.css$/ &amp;&amp; !!options.changeExt), $.rename((path) =&gt; { path.extname = options.changeExt; }) )) .pipe($.if( isFilter, $.changed( options.dest, { hasChanged: $.changed.compareSha1Digest } ) )) .pipe(gulp.dest(options.dest)) .on('data', (file) =&gt; { receivedFilesList.push(file.relative); }) .pipe($.if( options.notify, $.notify(_modulesParams.gulpNotify(options, receivedFilesList, 'compiled')) )) .pipe($.if( options.browserSyncReload, options.browserSync.stream({ match: &quot;**/*.css&quot; }) )); } }; } Методы &lt;inner&gt; cssLintReporter(file) Пользовательский reporter для gulp-csslint.Выводит лог уведомления в консоль терминала при обнуружении проблем - ошибок или предупреждений.При ошибке - вывод push уведоления и пропуск задачи (файлы не будет скомпиоированны)Если предупреждение - вывод push уведоления, но файлы будут скомпилированны. Параметры: Имя Тип Описание file File проверенный файл Исходный код: cssLintReporter = (file) =&gt; { let problems = file.csslint.errorCount; let messages = []; let types = { warning: 0, error: 0 }; // результаты file.csslint.results.forEach(function(result) { let err = result.error; types[err.type]++; messages.push(` ${err.line}:${err.col}\\t${err.rule.id}`); //messages.push(`\\t${err.message}`); messages.push(`\\t${err.rule.desc}`); messages.push(`\\t${err.evidence}`); }); // помечаем файл, как с ошибками или предупреждениями file.cssLintWarns = types.warning &gt; 0; if (types.error &gt; 0) { file.cssLintFail = true; file.cssLintWarns = false; } // если есть проблемы выводим лог в консоль терминала console.log(chalk.magenta('\\n\\tCSS LINT\\n============================================================')); console.log(chalk.red(`\\n ${problems} problems in ${file.relative} (warnings: ${types.warning}, errors: ${types.error})\\n------------------------------------------------------------`)); console.log(chalk.yellow(`${messages.join('\\n')}\\n`)); } Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"module-tasks_sassdoc.html":{"id":"module-tasks_sassdoc.html","title":"Модуль: tasks/sassdoc","body":" Модуль: tasks/sassdoc requireconst {moduleName} = require(&quot;./tasks/sassdoc&quot;)(options);es6 importimport {moduleImportName} from &quot;./tasks/sassdoc&quot;;const {moduleName} = {moduleImportName}(options); Документация scss файлов, на основе комментариев Туториалы: Документация SASS файлов Для работы необходимы: gulp#4 https://www.npmjs.com/package/sassdoc To Do: Составить больше примеров использования модуля и вариаций документации кода Параметры: Имя Тип Описание options Object передаваемые параметры Свойтсва Имя Тип Описание taskName string имя вызывающей задачи, задаеться автоматически isDevelop boolean флаг dev версии сборки, задаеться автоматически isProduction boolean флаг production версии сборки, задаеться автоматически package Object данные из package.json, задаеться автоматически systemName string тайтл документации dest string путь к директории итоговой документации src string | Array путь к документируемым файлам Возвращает: function Исходный код: module.exports = function(options) { return function(cb) { let stream = sassdoc({ dest: options.dest, verbose: true, theme: options.theme, display: { access: ['public', 'private'], alias: true, watermark: true }, groups: options.groups }); gulp.src(options.src) .pipe(stream); return stream.promise.then(function () { console.log('End of documentation process'); }); }; } Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"module-tasks_sassdoc-materials.html":{"id":"module-tasks_sassdoc-materials.html","title":"Модуль: tasks/sassdoc-materials","body":" Модуль: tasks/sassdoc-materials requireconst {moduleName} = require(&quot;./tasks/sassdoc-materials&quot;)(options);es6 importimport {moduleImportName} from &quot;./tasks/sassdoc-materials&quot;;const {moduleName} = {moduleImportName}(options); Компиляция главной страницы и туториалов для документации scss файлов Туториалы: Документация SASS файлов Связанные материалы: module:tasks/jsdoc ./tasks/jsdoc-theme/jsdoc.conf.json Для работы необходимы: gulp#4 https://www.npmjs.com/package/gulp-jsdoc3 module:tasks/_modules-params Параметры: Имя Тип Описание options Object передаваемые параметры Свойтсва Имя Тип Описание taskName string имя вызывающей задачи, задаеться автоматически isDevelop boolean флаг dev версии сборки, задаеться автоматически isProduction boolean флаг production версии сборки, задаеться автоматически package Object данные из package.json, задаеться автоматически systemName string тайтл документации dest string путь к директории итоговой документации tutorials string путь к директории туториалов для раздела документации blank string путь к файлу пустышке, необходим для подхвата index string вступительный, файл для документации, который должен быть создан по разметке markdown Возвращает: function Исходный код: module.exports = function(options) { // возвращаем задачу return function(cb) { // расширяем системный конфиг jsdoc на основе пользовательских параметров _modulesParams.jsdoc3Config(options, jsdocConfig); // составляем источник для jsdoc let src = [ options.index, options.blank ]; // указываем флаг sassdoc jsdocConfig.sassdoc = true; // генерация документации gulp.src(src, {read: false}) .pipe(jsdoc3(jsdocConfig, cb)); }; } Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"module-tasks_svgsprite.html":{"id":"module-tasks_svgsprite.html","title":"Модуль: tasks/svgsprite","body":" Модуль: tasks/svgsprite Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"module-tasks_transfer.html":{"id":"module-tasks_transfer.html","title":"Модуль: tasks/transfer","body":" Модуль: tasks/transfer requireconst {moduleName} = require(&quot;./tasks/transfer&quot;)(options);es6 importimport {moduleImportName} from &quot;./tasks/transfer&quot;;const {moduleName} = {moduleImportName}(options); Модуль трансфера. Используеться для переброса файлов без обработки. Туториалы: Трансфер файлов Для работы необходимы: gulpjs/gulp#4.0 https://www.npmjs.com/package/gulp-load-plugins https://www.npmjs.com/package/gulp-if https://www.npmjs.com/package/gulp-newer https://www.npmjs.com/package/gulp-notify https://www.npmjs.com/package/gulp-imagemin module:tasks/_modules-params Параметры: Имя Тип Описание options Object передаваемые параметры Свойтсва Имя Тип Аргумент По умолчанию Описание taskName string имя вызывающей задачи, задаеться автоматически isDevelop boolean флаг dev версии сборки, задаеться автоматически isProduction boolean флаг production версии сборки, задаеться автоматически package Object данные из package.json, задаеться автоматически dest string путь к итоговой директории src string путь к исходной директории imagemin boolean &lt;опционально&gt; флаг миницикации изображений filter string | boolean &lt;опционально&gt; 'combine' метод фильтровки файлов notify boolean &lt;опционально&gt; false выводить уведомление по окончанию трансфера notifyOn string &lt;опционально&gt; 'last' метод уведомления, параметр передается дальше методу modulesParams#gulpNotify notifyTime number &lt;опционально&gt; 2000 время показа уведомления, параметр передается дальше методу modulesParams#gulpNotify notifyIsShort boolean &lt;опционально&gt; false выводить краткое уведомдение - только количество файлов, параметр воздействует только при опции notifyOn:'last'. Параметр передается дальше методу modulesParams#gulpNotify Возвращает: function Исходный код: module.exports = function(options) { // возврашаем функцию для задачи return function(cb) { // vars // ======== // список переброшенных файлов let receivedFilesList = []; let isImageMin = options.imagemin === true; // использовать newer метод ? let isNewer = false; // использовать since метод ? let isSince = false; switch(options.filter) { case false: break; case 'since': isSince = true; break; case 'newer': isNewer = true; break; default: if (options._isCombinedMethod) { isSince = true; isNewer = false; } else { isSince = false; isNewer = true; options._isCombinedMethod = true; } }; // task // ======== return gulp.src(options.src, { buffer: isImageMin, since: isSince ? gulp.lastRun(options.taskName) : 0 }) .pipe($.if( isNewer, $.newer(options.dest).on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`transfer - ${options.taskName}`)) ) )) .pipe($.if( isImageMin, $.imagemin([ $.imagemin.gifsicle(), $.imagemin.jpegtran(), $.imagemin.optipng(), $.imagemin.svgo() ], { verbose: true }) .on('error', $.notify.onError( _modulesParams.gulpNotifyOnError(`imagemin - ${options.taskName}`)) ) )) .pipe(gulp.dest(options.dest)) .on('data', (file) =&gt; { receivedFilesList.push(file.relative); }) .pipe($.if( options.notify, $.notify(_modulesParams.gulpNotify(options, receivedFilesList, 'transfered')) )); }; } Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"module-tasks_upload.html":{"id":"module-tasks_upload.html","title":"Модуль: tasks/upload","body":" Модуль: tasks/upload requireconst {moduleName} = require(&quot;./tasks/upload&quot;)(options);es6 importimport {moduleImportName} from &quot;./tasks/upload&quot;;const {moduleName} = {moduleImportName}(options); Модуль который експортирует задачу загрузки файлов на фтп.По умолчанию это фтп хост инкубатора, параметры подключения к хосту указываються в конфигурации задачи connect. Для работы необходимы: gulpjs/gulp#4.0 https://www.npmjs.com/package/vinyl-ftp https://www.npmjs.com/package/gulp-load-plugins https://www.npmjs.com/package/gulp-if https://www.npmjs.com/package/gulp-notify module:tasks/_modules-params Параметры: Имя Тип Описание options Object передаваемые параметры Свойтсва Имя Тип Аргумент По умолчанию Описание taskName string имя вызывающей задачи, задаеться автоматически isDevelop boolean флаг dev версии сборки, задаеться автоматически isProduction boolean флаг production версии сборки, задаеться автоматически package Object данные из package.json, задаеться автоматически src string путь к исходным файлам connect Object параметры для соединения с хостом Свойтсва Имя Тип Аргумент По умолчанию Описание host string хост user string пользователь pass string пароль remotePath string путь к директории на хосте в которую будут залиты файлы parallel number &lt;опционально&gt; 3 количество паралельных трансферов notify boolean &lt;опционально&gt; false выводить уведомление по окончанию загрузки notifyOn string &lt;опционально&gt; 'last' метод уведомления, параметр передается дальше методу modulesParams#gulpNotify notifyTime number &lt;опционально&gt; 2000 время показа уведомления, параметр передается дальше методу modulesParams#gulpNotify notifyIsShort boolean &lt;опционально&gt; false выводить краткое уведомдение - только количество файлов, параметр воздействует только при опции notifyOn:'last'. Параметр передается дальше методу modulesParams#gulpNotify Возвращает: function Исходный код: /** * Модуль который експортирует задачу загрузки файлов на фтп. * По умолчанию это фтп хост инкубатора, параметры подключения к хосту указываються в конфигурации задачи `connect`. * * * * @moduleLocal * @sourcecode code:tasks:upload -c * * @requires gulpjs/gulp#4.0 * @requires https://www.npmjs.com/package/vinyl-ftp * @requires https://www.npmjs.com/package/gulp-load-plugins * @requires https://www.npmjs.com/package/gulp-if * @requires https://www.npmjs.com/package/gulp-notify * @requires module:tasks/_modules-params * * @param {Object} options - передаваемые параметры * @param {string} options.taskName - имя вызывающей задачи, *задаеться автоматически* * @param {boolean} options.isDevelop - флаг dev версии сборки, *задаеться автоматически* * @param {boolean} options.isProduction - флаг production версии сборки, *задаеться автоматически* * @param {Object} options.package - данные из `package.json`, *задаеться автоматически* * @param {string} options.src - путь к исходным файлам * @param {Object} options.connect - параметры для соединения с хостом * @param {string} options.connect.host - хост * @param {string} options.connect.user - пользователь * @param {string} options.connect.pass - пароль * @param {string} options.connect.remotePath - путь к директории на хосте в которую будут залиты файлы * @param {number} [options.connect.parallel=3] - количество паралельных трансферов * @param {boolean} [options.notify=false] - выводить уведомление по окончанию загрузки * @param {string} [options.notifyOn='last'] - метод уведомления, параметр передается дальше методу modulesParams#gulpNotify * @param {number} [options.notifyTime=2000] - время показа уведомления, параметр передается дальше методу modulesParams#gulpNotify * @param {boolean} [options.notifyIsShort=false] - выводить краткое уведомдение - только количество файлов, параметр воздействует только при опции `notifyOn:'last'`. Параметр передается дальше методу modulesParams#gulpNotify * * @return {Function} */ module.exports = function(options) { // возврашаем функцию для задачи return function(cb) { // vars // ======== // список загруженных файлов let receivedFilesList = []; // создаем подключение let ftpConnect = vinylFtp.create(options.connect); let remotePath = ftpConnect.config.remotePath; // task // ======== return gulp.src(options.src, {buffer: false}) .pipe(ftpConnect.newer(remotePath)) .pipe(ftpConnect.dest(remotePath)) .on('data', (file) =&gt; { receivedFilesList.push(file.relative); }) .pipe($.if( options.notify, $.notify(_modulesParams.gulpNotify(options, receivedFilesList, 'uploaded')) )); }; } Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"tutorial-all-folders.html":{"id":"tutorial-all-folders.html","title":"Туториал: Структура директорий","body":" Структура директорий Дерево основных директорий стартового шаблона верстки _HTML Основная директория шаблона верстки, в котором лежат все исходные файлы для сборки проекта и директория готового макета верстки _HTML/dist dist Итоговый макет верстки css favicons hidden images js docs Все раздлы документации _assets gulp html js sass node_modules Установленные nodejs модулей src Сборка макета верстки favicons Все файлы фавиконки favicons png и svg файлы browserconfig.xml favicon.ico manifest.json images Контентовые изображения js Скрипты сборки addons criticals dynamics vendor statics vendor markup Шаблоны разметки addons hidden layouts views sass Стили сборки addons criticals dynamics vendor statics fonts pic vendor tmp Темповская директория tutorials Туториалы для каждого раздела документации gulp html js sass readme.md Основная информация репозитория проекта .gitignore Важно почистить список временных игноров перед сдачей проекта Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"tutorial-all-tasks.html":{"id":"tutorial-all-tasks.html","title":"Туториал: Список основных gulp задач","body":" Список основных gulp задач Здесь вы можете ознакомиться со всеми основными задачами для работы. Также смотри полную информацию о gulp файле и всех задачах Флаги Флаги никак не зависят от вызываемых задач. Их можуно писать когда угодно с любой задачей. Также можно использовать несколько флагов одновременно. В нашей сборки флаги используются для определения продакш версии сборки или включения линтинга при компиляции. Это реализацию можно было сделать и при помощи переменных / констант внутри gulp файла (хотя по сути - так оно и есть). Но в этом случае чтобы изменить заничение - нужно вручную лезть в файл и переписывать true на false или на оборот В случае использования флагов - gulp будет сам менять эти значения в зависимости от ситуации, подробнее смотри: gulp._constants Флаги никак не влияют на задачи документации и загрузки файлов на хост --prod / -p Флаг продакшн сборки. Можно использовать как длинный - --prod, так и короткий -p флаги Примеры использования Пересборка продакш версии gulp build --prod # или gulp build -p Задача вотча в продакшн версии gulp --prod --lint / -l Флаг включения линтинга при компиляции sass / css / js файлов. Примеры использования Компиляция с линтингом gulp --lint # или gulp -l Ребилд с линтингом gulp rebuild --lint Ребилд продакшн версии с линтингом gulp rebuild --prod --lint # или gulp rebuild -p -l --open / -o Флаг открытия прокси url'a в браузере, после инициализации browser-sync. gulp --open # или gulp -o --noreload / -n Флаг отключения автоматичкой перезагрузки или инъекций browser-sync gulp --noreload # или gulp -n --nonotify / -s Флаг отключения константы isNotify, которая по умолчанию стоит у всех задач. Таким образом, отключаються все информативные нотифаеры gulp --nonotify # или gulp -s Основные задачи start Стартовая задача, по сути используеться только один раз - после установки проекта (читай readme.md репозитория). Задача сделает базовое построение итогового проекта верстки и составить основную документацию Вызов задачи: gulp start Подробнее смотри: gulp.start default Вызов задачи: gulp default # или просто gulp Подробнее смотри: gulp.default rebuild Полная пересборка проекта. После финиша задачи - процесс будет остановлен Вызов задачи: gulp rebuild Подробнее смотри: gulp.rebuild build Полная пересборка проекта. После будет запущена задача gulp-default Вызов задачи: gulp build Подробнее смотри: gulp.build upload Задача загрузки файлов на фтп. По умолчанию это фтп хост инкубатора, параметры подключения к хосту указываються в конфигурации задачи connect. Задачи выгружает все файлы из директории итоговой сборки ./dist/**/*.* Директория загрузки - www/inkubator.ks.ua/html/${projectName}/. Адрес обращения - www.inkubator.ks.ua/html/${projectName}/ gulp upload Подробнее смотри: gulp.upload module:tasks/upload Дополнительные задачи Задачи документации При использовании стороних библиотек, плагинов, фреймворков и прочее - в ОБЯЗАТЕЛЬНОМ порядке, должны присутствовать ссылки на их родные документации, страницы примеров и т.д. Такие ресурсы указываються на индексных страницах каждого раздела документации. ВАЖНО ПОМНИТЬ Перед запуском документации итоговые директориии доков будут чиститься каждый раз !!! docs:gulp Задача для создания документации всех js файлы, которые участвуют в сборке проекта, а также составления сопутствующих туториалов. Более подробно - читай туториал Документация GULP сборки Вызов задачи: gulp docs:gulp Подробнее смотри: gulp.docs:gulp docs:js Документация клиентских скриптов, которые используються в проекте верстки. Документировать исходные файлы сторонних библиотек и плагинов не нужно, за исключением случаев, когда в эти файлы вносяться правки, кастомные расширения функционала (к примеру локализация) и прочее. Более подробно - читай туториал Документация JS файлов Вызов задачи: gulp docs:js Подробнее смотри: gulp.docs:js docs:sass Для докуметирования используется nodejs модуль sassdoc v2. Его адаптированая gulp версия gulp-sassdoc - являеться устаревшей и НЕ рекомендуеться к использованию. Более подробно - читай туториал Документация SASS файлов Внутри sassdoc уже вшита очистка директории перед генерацией. все что нужно - это вызвать задачу: gulp docs:sass Последовательность серий: Подробнее смотри: gulp.docs:sass docs:html Документация html файлов, на основе комментариев и gulp-jsdoc3 Более подробно - читай туториал Документация HTML файлов Вызов задачи: gulp docs:html Подробнее смотри: gulp.docs:html docs Файлы оформления Задача трансфера файлов, которые нужны для оформления страниц документации. Фильтр трансфера у данной задачи 'newer' - читай module:tasks/transfer gulp docs:assets Подробнее смотри: gulp.docs:assets Удаление всех файлов Полная очистка всех файлов документации gulp docs:clean Подробнее смотри: gulp.docs:clean Для выполнения всего комплекса всех задач очистки и генерации документаций для всех разделов, используй задачу: gulp docs Соответственно данная задача будет самой длительной из всех, ниже - код последовательности серий, подробнее смотри: gulp.docs Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"tutorial-compile-ejs.html":{"id":"tutorial-compile-ejs.html","title":"Туториал: Компиляция разметки","body":" Компиляция разметки ... Структура файлов Подробную информацию о структуре директорий и файлов - читай в туториалах раздела Project docs / Туториалы / Исходные файлы сборки Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"tutorial-compile-js.html":{"id":"tutorial-compile-js.html","title":"Туториал: Компиляция скриптов","body":" Компиляция скриптов ... Структура файлов Подробную информацию о структуре директорий и файлов - читай в туториалах раздела JSDoc / Туториалы / Исходные файлы сборки Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"tutorial-compile-sass.html":{"id":"tutorial-compile-sass.html","title":"Туториал: Компиляция стилей","body":" Компиляция стилей Модуль компиляции scss файлов - module:tasks/sass. Основные параметры Модуль имеет метод фильтровки, основанный на модуле gulp-changed. В отличие от gulp-newer - он умеет делать проверку изменений в стриме. Воспринимаемые значения - true/false. Модуль предоставляет полное управление компиляцией, минификацией и записью sourcemaps - смотри соответствующие свойтва в таблице параметров модуля module:tasks/sass Оболочка задачи Пример lazyRequireTask('sass:dynamics', './tasks/sass', { src: './src/sass/dynamics/**/*.scss', dest: './dist/css', maps: isDevelop, min: isProduction, watch: [ './src/sass/config.scss', './src/sass/addons/**/*.scss', './src/sass/dynamics/**/*.scss' ], notify: isNotify, sasslint: isLinting, csslint: isLinting }); Lint Также модуль умеет проводить линтинг в процессе задачи, как входяших sass, так и итоговых css файлов - смотри соответствующие свойтва в таблице параметров модуля module:tasks/sass.Для линтинга используюься параметры по умолчанию Sass Lint gulpSassLintConfig(customConfig={}) { let baseConfig = { rules: { // warning 'clean-import-paths': 1, 'no-ids': 1, 'indentation': [ 1, { size: 'tab' } ], 'class-name-format': [ 1, { 'allow-leading-underscore': true, 'convention': 'camelcase' } ], 'mixin-name-format': [ 1, { 'allow-leading-underscore': true, 'convention': 'camelcase' } ], // disabled 'leading-zero': 0, 'empty-line-between-blocks': 0, 'force-element-nesting': 0, 'property-sort-order': 0 } }; if (customConfig) { return deepExtend(baseConfig, customConfig); } return baseConfig; } Css Lint gulpCssLintConfig(customConfig={}) { let baseConfig = { // errors 'empty-rules': 2, // warning 'ids': 1, // disabled 'box-sizing': 0, 'universal-selector': 0, 'unqualified-attributes': 0, 'compatible-vendor-prefixes': 0 }; if (customConfig) { return deepExtend(baseConfig, customConfig); } return baseConfig; } Пользовательские параметры линтинга Если нужно переопределить или добавить некоторые правила - используйте параметры для конфигурации каждого из линтингов.Пример: Пример ... csslint: true, csslinrConfig: { 'box-sizing': 0, // игнорировать 'ids': 1, // предупреждать 'empty-rules': 2 // ошибка } Важно - пользовательские конфиги - не заменяют, те что по умолчанию, а расширяют Проводить линтинг файлов - обязательно.Когда? - решать вам: в ручную - поэтапно (рекоммендуется) постоянно (увеличит время компиляции) перед сдачей (не рекоммендуется) Структура файлов Подробную информацию о структуре директорий и файлов - читай в туториалах раздела SASSdoc / Туториалы / Исходные файлы сборки Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"tutorial-compile-transfer.html":{"id":"tutorial-compile-transfer.html","title":"Туториал: Трансфер файлов","body":" Трансфер файлов Модуль трансфера - module:tasks/transfer. Используеться для переброса файлов без обработки. В задаче по умолчанию отключена буфферизация файлов. Это позволяет ускорить пропуск всех файлов. Соответственно никаких операций по модификации файлов выполнить не возможно. Есть иключение - при оптимизации избражений, читай далее. Оболочка задачи Пример: lazyRequireTask('sass:statics', './tasks/transfer', { src: './src/sass/statics/**/*.*', dest: './dist/css', watch: [ './src/sass/statics/**/*.*' ], imagemin: isProduction, filter: globalFilterMethod, notify: isNotify }); Фильтровка входящих файлов Одним из основных параметров управления - являеться фильтровка файлов - filter: false - отключения фильтровки 'since' - фильтр на уровне получения источников, который будет воспринимать только изминенные файлы после последнего выполнения текущей задачи. Задача будет полезна при использовании watch'ей, при одиночном вызове - никакого эфекта не будет, также следует помнить что при первом выполнении задача бужет перекидывать все файлы, так как предыдущего вызова еще не было. Но данный метод быстрее чем 'newer' ~ 40-60%. У данного метода есть большой минус - при создании новых файлов - фильтровка 'since' - не сможет их определить и спользовать при пересборке, так как при старте задачи их не существовало. 'newer' - фильтр который получает все источники и сравнивает с итоговыми файлами (по дате) - перебрасывает только новые. При подобной фильтровке даже при первом запуске будут отфльтрованны только новые файлы. Также, в случае если удалить итоговые файлы и выполнить задачу, данный метод перебросит и новые файлы на место удаленных, метод 'since' этого не сделает, так как он не смотрит на итоговые файлы. Но 'newer' работает дольше почти на половину. 'combine' - фильтр который объеденяет методы 'newer' и 'since'. При первом запуске будет выполнена проверка новых файлов в сравнении с итоговыми на основе 'newer', далее при последующих вызовах фильтровка будет на основе метода 'since'. Этот метод используется по умолчанию На заметку Чем больше входящих файлов - тем дольше идет фильтровка! Пример сравнения переброса одного и того же файла при вотче и количестве входящих файлов - 36 шт.: since newer false (переброс всех файлов) ~ 121-154 ms ~ 246-268 ms ~286-360 ms Пример сравнения переброса одного и того же файла при вотче и количестве входящих файлов - 336 шт.: since newer false (переброс всех файлов) ~ 240-544 ms ~ 849 ms - 1.2 s ~ 1.5-1.86 s Оптимизация изображений Для автоматической оптимизации изображений, нужно чтение буффера, что сделает выполнение задачи дольше. Поэтому данная опция будет активна только при сборке продакшн версии и включении флага imagemin: true в параметрах каждой из задач. Соответственно, если вы точно знаете что в исходниках задач никогда не будет изображений или их никогда не нужно оптимизировать - можно не указывать этот параметр, для ускорения задчи при любой сборке. Для оптимизации используется модуль gulp-imagemin и его плагины: https://github.com/imagemin/imagemin-gifsicle https://github.com/imagemin/imagemin-jpegtran https://github.com/imagemin/imagemin-optipng https://github.com/imagemin/imagemin-svgo Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"tutorial-docs-gulp.html":{"id":"tutorial-docs-gulp.html","title":"Туториал: Документация GULP сборки","body":" Документация GULP сборки Что документировать? Все js файлы, которые участвуют в сборке проекта. Необходимо включить все модули которые пишуться вами. Как настроить задачу для документации? Непосредственно за генерацию отвечает задача docs:jsdoc:gulp, которая есть частью комплекса docs:gulp, в который входит еще задача очистки предыдущей версии документации. Последовательность действий задачи docs:gulp docs:clean:gulp - очищает директорию с документацией - по умолчанию это ./docs/gulp docs:jsdoc:gulp - генирирует документацию по разделу, после очистки // GULP // ==== // очистка директории документации gulp сборки lazyRequireTask('docs:clean:gulp', `${tasks}/clean`, { src: `${docs}/gulp` }); // генерация документации gulp сборки lazyRequireTask('docs:jsdoc:gulp', `${tasks}/jsdoc`, { systemName: 'Gulp docs', tutorials: `${tuts}/gulp`, dest: `${docs}/gulp`, src: [ `${tuts}/gulp-index.md`, `${tasks}/*.js`, `${tasks}/jsdoc-theme/plugins/*.js`, `./gulpfile.babel.js` ] }); // комплексная задача создания документации gulp сборки gulp.task('docs:gulp', gulp.series( 'docs:clean:gulp', 'docs:jsdoc:gulp' ) ); Разберем настройку задачи docs:jsdoc:gulp: systemName - имя документации tutorials - путь к директории туториалов для раздела документации dest - путь к директории куда будет сгенерирована документация src - пути к документируемым файлам если вы хотите указать основной, вступительный, файл для документации, который должен быть создан по разметке markdown, его нужно указать первым в массиве далее указываем все js файлы из папки tasks и основной gulp файл Дополнительные плагины для jsdoc3 и основной gulp файл // генерация документации gulp сборки lazyRequireTask('docs:jsdoc:gulp', `${tasks}/jsdoc`, { systemName: 'Gulp docs', tutorials: `${tuts}/gulp`, dest: `${docs}/gulp`, src: [ `${tuts}/gulp-index.md`, `${tasks}/*.js`, `${tasks}/jsdoc-theme/plugins/*.js`, `./gulpfile.babel.js` ] }); Как докуметировать модули? Модуль экспортирующий задачу Имя модуля В начале следует указать комментарием имя модуля. @module - здесь пишем &quot;гибрид&quot; отсносительного пути к файлу по схеме имяПапки/имяФайла. Здесь не допуcкаються точки и поэтому не указываем расширение файла (*.js) @sourcefile - здесь пишем значение (имяфайла) по схеме сущностьДоклета:имяПапки:имяФайла. Этот доклет в дальнейшем можно использовать в туториалах, более подробно смотри Работа с JSDoc3 -&gt; @sourcefile 'use strict'; /** * @module tasks/jsdoc * @sourcefile file:tasks:jsdoc */ После блок подключения дополнительных модулей, которые могут вам понадобиться или объявление внутрених переменых или методов для работы Пример // подключение nodejs модулей // ========================== import gulp from 'gulp'; import jsdoc3 from 'gulp-jsdoc3'; // подключение внутренних модулей // ============================== import _modulesParams from './_modules-params.js'; // подключение системной конфигурации jsdoc // ======================================== import jsdocConfig from './jsdoc-theme/jsdoc.conf.json'; Экспорт модуля Далее, отдельно, следует указать комментарии описывающие сам модуль Описание модуля - первые строки комментария без тега @moduleLocal - дополнительный тег, который обозначает локальность модуля. Указывается без значения. Смотри Работа с JSDoc3 -&gt; @moduleLocal @sourcecode - дополнительный тег, при помощи которого можно вывести исходный код документируемого блока, более подробно смотри Работа с JSDoc3 -&gt; @sourcecode Если вы хотите привязать туториал к модулю, используйте тег @tutorial имя-файла-туториала (смотри usejsdoc.org/tags-tutorial.html) Если ваш модуль зависит от дургих модулей, желательно это указать при помощи тега @requires (смотри usejsdoc.org/tags-requires.html)в значении которого указать урл на модуль @requires https://www.npmjs.com/package/gulp-jsdoc3 или ссылку на ваш локальный модуль связав ссылку по его имени @requires module:tasks/_modules-params Также можно указать дополнительные ссылки на дополнителные метриалы, с которыми можно ознакомиться для уточнения каких-либо деталей. Для этого можно использовать тег @see (смотри usejsdoc.org/tags-see.html) Указываем передаваемые параметры модулю и данный которые вернет модуль. /** * Документация `js` файлов, на основе комментариев `jsdoc` * * * * @todo Составить больше примеров использования модуля и вариаций документации кода * * @moduleLocal * @sourcecode code:tasks:jsdoc -c * * @tutorial docs-js * @tutorial docs-gulp * @tutorial jsdoc * * @see ./tasks/jsdoc-theme/jsdoc.conf.json * * @requires gulp#4 * @requires https://www.npmjs.com/package/gulp-jsdoc3 * @requires module:tasks/_modules-params * * @param {Object} options - передаваемые параметры * @param {string} options.taskName - имя вызывающей задачи, *задаеться автоматически* * @param {boolean} options.isDevelop - флаг dev версии сборки, *задаеться автоматически* * @param {boolean} options.isProduction - флаг production версии сборки, *задаеться автоматически* * @param {Object} options.package - данные из `package.json`, *задаеться автоматически* * @param {string} options.systemName - тайтл документации * @param {string} options.tutorials - путь к директории туториалов для раздела документации * @param {string} options.dest - путь к директории итоговой документации * @param {string|Array} options.src - путь к документируемым файлам * * @return {Function} */ module.exports = function(options) { // возвращаем задачу return function(cb) { // расширяем системный конфиг jsdoc на основе пользовательских параметров _modulesParams.jsdoc3Config(options, jsdocConfig); // генерация документации gulp.src(options.src, {read: false}) .pipe(jsdoc3(jsdocConfig, cb)); }; } Модуль экспортирующий класс Модули которые експортируют классы, в качестве примера можно рассмотреть утилити ./tasks/_helpers.js или ./tasks/_modules-params.js, немного отличаються по алгоритму документирования. Имя модуля К имени следует добавить блок описания с разметкой в описании, где необходимо вписать свои параметры имен. Это необходимо для нормального отображения пояснительного блока подключения. Пример результата: requireconst _modulesParams = require(&quot;./tasks/_modules-params&quot;);es6 importimport _modulesParams from &quot;./tasks/_modules-params&quot;; Также, в отличие от документации модулей задач, все дополнительные теги указываються здесь же. За исключение тегов @sourcecode и @moduleLocal - их писать не нужно 'use strict'; /** * &lt;div class=&quot;moduleName&quot;&gt;&lt;small&gt;require&lt;/small&gt;&lt;br&gt;&lt;b&gt;const&lt;/b&gt; _helpers = require(&quot;./tasks/_helpers&quot;);&lt;br&gt;&lt;small&gt;es6 import&lt;/small&gt;&lt;br&gt;&lt;b&gt;import&lt;/b&gt; _helpers &lt;b&gt;from&lt;/b&gt; &quot;./tasks/_helpers&quot;;&lt;/div&gt; * Модуль который експортирует объект с параметрами для конфигурации nodejs модулей * * @module tasks/_helpers * @sourcefile file:tasks:_helpers * @requires https://www.npmjs.com/package/fs * @requires https://www.npmjs.com/package/path * @requires https://www.npmjs.com/package/chalk * @requires https://www.npmjs.com/package/file-save * @see https://nodejs.org/docs/latest/api/fs.html * @see https://nodejs.org/docs/latest/api/path.html */ После блок подключения дополнительных модулей, которые могут вам понадобиться или объявление внутрених переменых или методов для работы Пример // константы // ========================== const _indent = '\\t'; const _symbols = { done: chalk.white.bgGreen(' DONE '), info: chalk.white.bgBlue(' INFO '), error: chalk.white.bgRed(' ERR '), del: chalk.white.bgRed(' DEL '), warn: chalk.black.bgYellow(' WARN ') }; // подключение nodejs модулей // ========================== import fs from 'fs'; import path from 'path'; import chalk from 'chalk'; import fileSave from 'file-save'; Описание класса Сначала указываем сам класс /** * Набор параметров для конфигурации nodejs модулей * @class */ class Helpers { ... } Далее описываем внутри каждый метод отдельно. Примеры: /** * Набор параметров для конфигурации nodejs модулей * @class */ class Helpers { /** * Запись файла * * @sourcecode * @param {string} filePath - путь к файлу * @param {string} fileContent - собержание файла */ writeFile(filePath, fileContent) { fileSave(filePath) .write(fileContent, 'utf-8', () =&gt; { this.logMsg(`writed file ${path.resolve(filePath)}`, 'done'); }) .error(function() { this.logError(`on write file ${path.resolve(filePath)}`) }); } /** * Составление лог уведомления * * @sourcecode * @param {string|Array} message - контент уведомления * @param {sring} [status=] - ключ статуса, по которому будет выбран символ из _symbols для уведомления * @return {sring} */ consoleMessage(message, status) { status = status in _symbols ? `${_symbols[status]}${_indent}` : `${_indent}`; switch(typeof message) { case 'string': break; case 'object': if (message !== null &amp;&amp; message.length) { message = `${message.join(`\\n${_indent}`)}`; break; } default: message = `without message`; } return `${status}${message}`; } /** * Вывод уведомления в консоль терминала * * @sourcecode * @see Helpers#consoleMessage * @param {string} message - уведомление * @param {string} [messageStatus=info] - уведомление */ logMsg(message, messageStatus='info') { let chalkColor = 'blue'; switch(messageStatus) { case 'done': chalkColor = 'green'; break; case 'warn': chalkColor = 'yellow'; break; case 'del': chalkColor = 'red'; break; default: messageStatus = 'info'; } message = this.consoleMessage(message, messageStatus); console.log(chalk[chalkColor](message)); } /** * Вывод уведомления в консоль терминала при ошибке. * Если ошибка критическая - процесс будет остановлен * * @sourcecode * @see Helpers#consoleMessage * @param {string} message - уведомление * @param {boolean} [isCritical] - флаг критической ошибки */ logError(message, isCritical) { message = this.consoleMessage(message, 'error'); console.log(chalk.red(message)); if (isCritical) { console.log(chalk.red(`${_indent}Exit !!!`)); process.exit(0); } } } Экспорт модуля После описания класса и всех его модулей - экспортируем: module.exports = new Helpers(); Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"tutorial-docs-htmldoc.html":{"id":"tutorial-docs-htmldoc.html","title":"Туториал: Документация HTML файлов","body":" Документация HTML файлов Что документировать? Докуметация файлов разметки, по сути, являет собой скан итоговых файлов верстки на комментарии в которых описаны действия для следующих разработчиков которым может перейти проект. Основная задача этой доки - составлять todo list'ы, которые нужно выполнить Также есть возможность составления туториалов или мини инструкций по особому функионалу, виджету и т.д., при помощи системы туториалов. Также, рекоммендуется составлять туториалы в которых описанна работа вашего проекта верстки Как настроить задачу для документации? Непосредственно за генерацию отвечает задача docs:html:doc, которая есть частью комплекса docs:html, в который входят еще две задача очистки предыдущей версии документации. Последовательность действий задачи docs:html docs:clean:html - очистка директории документации с html страниц - по умолчанию это ./docs/htmldoc docs:clean:htmlTmp - очистка темповской директории документации с html страниц - по умолчанию это ./docs/htmldoc docs:html:doc - генерация документации с html страниц, после очистки // HTML todo // ========= // очистка директории документации с html страниц lazyRequireTask('docs:clean:html', `${tasks}/clean`, { src: `${docs}/html` }); // очистка темповской директории документации с html страниц lazyRequireTask('docs:clean:htmlTmp', `${tasks}/clean`, { src: `${tmp}/htmldoc` }); // генерация документации с html страниц lazyRequireTask('docs:html:doc', `${tasks}/htmldoc`, { systemName: `Project docs`, tutorials: `${tuts}/html`, tmpFiles: `${tmp}/htmldoc`, tmpMD: `${tmp}/htmldoc/__todo-list.md`, dest: `${docs}/html`, src: [ `${tuts}/html-index.md`, `${dist}/*.html` ] }); // комплексная задача создания документации с html страниц gulp.task('docs:html', gulp.series( 'docs:clean:html', 'docs:clean:htmlTmp', 'docs:html:doc' ) ); Разберем настройку задачи docs:html:doc: systemName - имя документации tutorials - путь к директории туториалов для раздела документации tmpFiles - директория для темповских файлов tmpMD - темповские файл где будут вписанны все @todo записи, со всех найденных страниц dest - путь к директории куда будет сгенерирована документация src - пути к документируемым файлам если вы хотите указать основной, вступительный, файл для документации, который должен быть создан по разметке markdown, его нужно указать первым в массиве далее указываем все html файлы из папки dist Как писать документацию? Принцип составления подобных комментариев В начеле коммента должен быть тег @htmldoc Далее, желательно с новой строки каждый тег из аннотации jsdoc. Чаше всего это будет - @todo которого вполне хватит. НЕ ИСПОЛЬЗУЙТЕ @namespace и @memberof, так как они, в данном контексте, используються для других целей. Пример записи коммента: &lt;!-- @htmldoc @todo Выводить данный блок только на страницах новостей и акций. @todo Дочерний элемент с текстом - ограничить по количеству символов, максимум 300. --&gt; Или с демонстрацией записи кода &lt;!-- @htmldoc @todo Передавать в data-center параметры для карты @example &lt;div id=&quot;map-canvas&quot; data-center='{&quot;lat&quot;:45.9597317, &quot;lng&quot;:39.84621973}'&gt;&lt;/div&gt; --&gt; Также смотри http://verstka.vps.kherson.ua/tpls/htmldoc.html HTMLdoc - домашнего производства Это не есть офф модуль с npm'а. Данный модуль - это собственный плагинчик, который позволит быстро создавать сопутствующие пояснения к вашей верстке. Как это работает: Сканируем каждую html страницу из готовой верстки, папка ./dist Ищем комменты с началом @htmldoc Разбераем каждый коммент и создаем на этой основе js файл с именем html файла, пример - index.html -&gt; index.js Такие js файлы будут сохраняться в темповскую папку ./tmp/htmldoc В новых js файлах будут указаны @namespace, в данном контексте - это имена файлов, и составлены, по синтаксису jsdoc'а комменты, за который он сможет &quot;зацепится&quot;, со связками @memberof После - включаеться уже сам модуль jsdoc и вополняет свою работу, с небольшими личными поправками которые мы ему зададим ))) Также результатом работы этого модуля будет файл в темповской директориии ./tmp/htmldoc/__todo-list.md В этом файле будет составленная md версия найденных @todo блоков, с указанием имени файла и номера строки, на который данный коммент находится. Такой файл может быть полезен для копирования его содержимого в README.md вашего репозитория Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"tutorial-docs-js.html":{"id":"tutorial-docs-js.html","title":"Туториал: Документация JS файлов","body":" Документация JS файлов Что документировать? Документация клиентских скриптов, которые используються в проекте верстки. Документировать исходные файлы сторонних библиотек и плагинов не нужно, за исключением случаев, когда в эти файлы вносяться правки, кастомные расширения функционала (к примеру локализация) и прочее. Также, рекоммендуется составлять туториалы в которых описанна работа вашего проекта верстки Как настроить задачу для документации? Непосредственно за генерацию отвечает задача docs:jsdoc:js, которая есть частью комплекса docs:js, в который входит еще задача очистки предыдущей версии документации. Последовательность действий задачи docs:js docs:clean:js - очищает директорию с документацией - по умолчанию это ./docs/jsdoc docs:jsdoc:js - генирирует документацию по разделу, после очистки // JS client // ========= // очистка директории документации скриптов верстки lazyRequireTask('docs:clean:js', `${tasks}/clean`, { src: `${docs}/jsdoc` }); // генерация документации скриптов верстки lazyRequireTask('docs:jsdoc:js', `${tasks}/jsdoc`, { systemName: 'JSDoc', tutorials: `${tuts}/js`, dest: `${docs}/jsdoc`, src: [ `${tuts}/js-index.md`, `${src}/js/**/*.js`, `!${src}/js/**/{vendor}/**/*.js` ] }); // комплексная задача создания документации скриптов верстки gulp.task('docs:js', gulp.series( 'docs:clean:js', 'docs:jsdoc:js' ) ); Разберем настройку задачи docs:jsdoc:js: systemName - имя документации tutorials - путь к директории туториалов для раздела документации dest - путь к директории куда будет сгенерирована документация src - пути к документируемым файлам если вы хотите указать основной, вступительный, файл для документации, который должен быть создан по разметке markdown, его нужно указать первым в массиве далее указываем все js файлы из проекта сборки верстки откидываем сторонние плагины и библиотеки Как писать документацию? Все описания JSDoc3 и информацию о данном документаторе, его тегах и методах записи - смотри на офф. сайте usejsdoc.org. Также смотри http://verstka.vps.kherson.ua/tpls/jsdoc3.html Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"tutorial-docs-sass.html":{"id":"tutorial-docs-sass.html","title":"Туториал: Документация SASS файлов","body":" Документация SASS файлов Для докуметирования используется nodejs модуль sassdoc v2. Его адаптированая gulp версия gulp-sassdoc - являеться устаревшей и НЕ рекомендуеться к использованию - http://sassdoc.com/gulp/#introduction. Что документировать? Документируются scss файлы, которые пишуться разработчиками студии. Если вы используете сторонние scss библиотеки, к примеру foundation или bootstrap, то эти файлы могут участвовать в документации, если в эти файлы вносяться правки, кастомные расширения функционала и прочее. Также, рекоммендуется составлять туториалы в которых описанна работа вашего проекта верстки Как настроить задачу для документации? Непосредственно за генерацию отвечает задача docs:sassdoc, которая есть частью комплекса docs:sass, в который входит еще задача компиляция главной страницы для документации scss файлов. Последовательность действий задачи docs:sass docs:sass:doc - генерация документации scss файлов docs:sass:materials - компиляция главной страницы и туториалов для документации scss файлов // SASS // ==== // генерация документации scss файлов lazyRequireTask('docs:sass:doc', `${tasks}/sassdoc`, { theme: `${tasks}/sassdoc-theme`, dest: `${docs}/sassdoc`, groups: { 'undefined': 'Без группы' }, src: [ `${src}/sass/**/*.scss`, `!${src}/sass/**/{vendor}/**/*.scss` ] }); // компиляция главной страницы и туториалов для документации scss файлов lazyRequireTask('docs:sass:materials', `${tasks}/sassdoc-materials`, { systemName: 'SASSDoc', tutorials: `${tuts}/sass`, dest: `${docs}/sassdoc`, blank: `${tasks}/sassdoc-theme/blank.js`, index: `${tuts}/sass-index.md` }); // комплексная задача создания документации scss файлов gulp.task('docs:sass', gulp.series( 'docs:sass:doc', 'docs:sass:materials' ) ); Разберем настройку задачи docs:sass:doc: theme - тема документации, по умолчанию - указанна тема специально заточенная под общий визуальный вид документации всех разделов dest - путь к директории куда будет сгенерирована документация groups - здесь можно указать приемлимые имена для найденных групп 'undefined' - группировка всех не обознеченных групп. также здесь можно переименновать имеющиеся группы, при надобности, к примеру '_default.scss': 'Базовая конфигурация' и тд. src - пути к документируемым файлам указываем все sass файлы из папки ./src/sass/ откидываем все сторонние библиотеки и плагины Настройки задачи docs:sass:materials: systemName - имя документации tutorials - путь к директории туториалов для раздела документации dest - путь к директории куда будет сгенерирована документация blank - путь к файлу пустышке, необходим для подхвата index - вступительный, файл для документации, который должен быть создан по разметке markdown Как писать документацию? Все о данном документаторе - смотри на офф. сайте sassdoc.com , и его теги аннотации - http://sassdoc.com/annotations/ Также смотри http://verstka.vps.kherson.ua/tpls/sassdoc.html В отличии от jsdoc - данный модуль соберет все полученные данные в один файл, игнорируя имена файлов. Для удобства и понимания - рукоммендую в начале каждого файла указывать аннотацию тега @group с именем файла - это послужит визуальному и логическому разделению блоков sassdoc'a . Примеры: //// /// @group _defaults.scss ////===================== ... //// /// @group _light.theme.scss ////======================== ... //// /// @group style.scss ////================= ... Если имя группы не указывать - то это пойдет в группу undefined - &quot;Без группы&quot;. Важно помнить Sassdoc использует однострочные комментарии, которые при компиляции файлов удаляются Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"tutorial-workwith-gulp-jsdoc3.html":{"id":"tutorial-workwith-gulp-jsdoc3.html","title":"Туториал: Работа с JSDoc3","body":" Работа с JSDoc3 Основная документация http://usejsdoc.org Локализация с поснениями http://verstka.vps.kherson.ua/tpls/jsdoc3.html Дополнительные теги в JSDoc3 Общему набору тегов jsdoc можно добавлять собственные теги (смотри usejsdoc.org/about-plugins.html). Далее описаны дополнительные теги для использования, которые были добавлены (смотри tasks/jsdoc-theme/plugins/defineTags) @moduleLocal Доклет который указывает, что данный модуль написан разработчиком, используеться для модулей, которые экспорттируют задачи. Результатом применения будет отфорамтированный блок с описанием вариантов подключения данного модуля Пример: /** * @moduleLocal */ module.exports = function(options) { ... } Результат: requireconst {moduleName} = require(&quot;./tasks/transfer&quot;)(options);es6 importimport {moduleImportName} from &quot;./tasks/transfer&quot;;const {moduleName} = {moduleImportName}(options); @moduleNoES6Import Если ваш не модуль не поддерживайт import по стандарту es6 - вместе с тегом @moduleLocal укажите @moduleNoES6Import Пример: /** * @moduleLocal * @moduleNoES6Import */ module.exports = function(options) { ... } Результат: requireconst {moduleName} = require(&quot;./tasks/sassdoc&quot;)(options); @lineno Прунудительное определение и вывод номера строки на которой начинаеться документируемый код (не комментарий). Удобно использовать вместе c тегом @todo, чтобы сразу указать на какой строке искать нужный код Пример: /** * @lineno * @todo Write the documentation. * @todo Implement this function. */ function foo() { // write me } Результат: Строка - 142 To Do: Write the documentation. Implement this function. @sourcefile Запоминание полного контента документируемого файла. Можно использовать при написании туториалов, когда нужно показать исходный код всего файла. Вместо того чтобы копировать в туториал код и каждый раз менять его при внесении правок в файл оригинала. Необходимо указать значение для тега по схеме сущностьДоклета:имяПапки:имяФайла, после чего можна использовать в туториалах при помощи записи шаблонизатора &lt;?sourcefile= file:tasks:jsdoc ?&gt;. Результатом будет элемент &lt;pre&gt; внутри которого будет весь код вашего файла и при внесении правок в основном файле они будут показаны и в описании Пример: 'use strict'; /** * @module tasks/clean * @sourcefile file:tasks:clean */ ... &lt;p&gt;... Ниже рассмотрим исходный код файла:&lt;/p&gt; &lt;?sourcefile= file:tasks:clean ?&gt; &lt;p&gt;Дальше другое описание ...&lt;/p&gt; Результат: ... Ниже рассмотрим исходный код файла: Дальше другое описание ... @sourcecode Запоминание блока контента документируемого js кода. Суть приминения схожа с тегом @sourcefile, за исключением того что при указании данного тега, даже без значения, выведет исходный код на странице документации на ряду с таблицами параметров и других характеристик. Если вы хотите чтобы при демонстрации кода также билы отображены комментарии, которые использовались, - в значении нужно указать флаг -c. В качестве значение можно еще указать привязку к файлу по схеме сущностьДоклета:имяПапки:имяФайла. Это позволит в дальнейшем использовать данный блок в туториалах. Пример: /** * @sourcecode code:tasks:clean -c */ module.exports = function(options) { ... } &lt;p&gt;... Ниже рассмотрим исходный код модуля:&lt;/p&gt; &lt;?sourcefile= code:tasks:clean ?&gt; &lt;p&gt;Дальше другое описание ...&lt;/p&gt; Результат: ... Ниже рассмотрим исходный код модуля: /** * Модуль очистки (удаления) указанной директории или файлов. * Для экспорта модуля в задачу используеться метод lazyRequireTask. * В параметрах задачи ( `src` ) необходимо указать путь к директории или файлам которые нужно удалить. * - При успешном выполнении вы получите лог уведомление в терминале (если не выключен флаг `log`). Если указанный источник не будет обнаружен - вы получите сообщение `[URL] - not exist` * - При ошибке удаления - в терминале будет уведомление, с описанием ошибки. Такой результат будет считаться критическим поэтому node процесс будет остановлен. * * * * @sourcecode code:tasks:clean -c * * @requires https://www.npmjs.com/package/del * @requires https://www.npmjs.com/package/path * @requires module:tasks/_helpers * * @param {Object} options - передаваемые параметры * @param {string} options.taskName - имя вызывающей задачи, *задаеться автоматически* * @param {boolean} options.isDevelop - флаг dev версии сборки, *задаеться автоматически* * @param {boolean} options.isProduction - флаг production версии сборки, *задаеться автоматически* * @param {Object} options.package - данные из `package.json`, *задаеться автоматически* * @param {string|Array} options.src - путь к директории или файлам которые нужно удалить * @param {boolean} [options.log=true] - флаг вывода лог уведомления при успешном действии * * @return {Promise} */ module.exports = function(options) { // возврашаем функцию для задачи return function(cb) { // возвращаем Promise return del(options.src) // после выполнения .then( paths =&gt; { // если log не отключен if (options.log !== false) { // если источник не найден заменяем текст if (paths &amp;&amp; paths.length === 0) { paths = `${options.src} - not exist`; } // выводим уведомление _helpers.logMsg(paths, 'del'); } }, error =&gt; { // выводим ошибку (критическую) _helpers.logError(error, true); } ); }; } Дальше другое описание ... Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "},"tutorial--_tutorial-example.html":{"id":"tutorial--_tutorial-example.html","title":"Туториал: Заготовка для создания туториала","body":" Заготовка для создания туториала офф документация по созданию туториалов - http://usejsdoc.org/about-tutorials.html Создание нового туториала Создайте два файла в директори туториалов соответствующего раздела ./tutorials/gulp ./tutorials/html ./tutorials/js ./tutorials/sass 1. - html файл, к примеру cool-tut.html. В html файле описать свой туториал используя чистую html разметку, без основных элементов html, head, body 2. - создать json файл (если не существует) и вписать системный ключ имени файл, должен совпадать с физическим именем html файла { &quot;cool-tut&quot;: { &quot;title&quot;: &quot;Мой крутой туториал&quot; }, &quot;new-cool-tut&quot;: { &quot;title&quot;: &quot;Еще один классный туториал&quot; } } Линковка файлов Внутрення линковка достпуна только в пределах своего раздела. Для линковки с раздела в раздел - используйте markdown тег ссылки в описании документируемого блока с относительными путями Обычные ссылки для быстрого создания можно использовать строчный jsdoc тег, как при документировании комментариями, так и внутри html разметки - http://usejsdoc.org/tags-inline-link.html Ссылки на туториалы Читай - http://usejsdoc.org/tags-tutorial.html и http://usejsdoc.org/tags-inline-tutorial.html Краткое описание Для внутренней линковки туториалов используются физические имена файлов. Для линковки с документируемым файлом - используй имя его определения, к примеру module:tasks/sass Пример ссылки на тоториал при документации блока кода - http://usejsdoc.org/about-tutorials.html#-tutorial-block-tag /** * Class representing a socket connection. * * @class * @tutorial cool-tut */ function Socket() {} Пример инлайновой ссылки на тоториал в описании при документации блока кода - http://usejsdoc.org/about-tutorials.html#-tutorial-inline-tag В примере специально используеться пробел после открывающей фигурной скобки { @tutorial ..., для демонстрации, для реализации его нужно удалить {@tutorial ... /** * Class representing a socket connection. See { @tutorial cool-tut} * for an overview. * * @class */ function Socket() {} Пример инлайновой ссылки с одного туториала на другой тоториал &lt;h3 id=&quot;gulp-docs:gulp&quot;&gt;gulp docs:gulp&lt;/h3&gt; &lt;p&gt;Задача для создания документации всех js файлы, которые участвуют в сборке проекта, а также составления сопутствующих туториалов.&lt;/p&gt; &lt;p&gt;Более подробно - читай туториал { @tutorial cool-tut}&lt;/p&gt; Внутреняя линковка в sassdoc При документировании sass файлов - внутренние физические имена туториалов не доступны. Для линковки используйте markdown тег ссылки в описании документируемого блока с относительными путями /// Глобальное семейство шрифта. Более подробно читай в туториале [_tutorial-example](./tutorial--_tutorial-example.html) /// @type Map | Keyword $globalFontFamily: sans-serif; Вставка исходного кода Подсветка синтаксиса Для подсветки синтаксиса используется плагин prismjs. Как читать с плагином читай на офф сайте.В плагин включены все доступные языки http://prismjs.com/download.html#components.Подключенные аддоны плагина: Line highlight Line Numbers Show Language Highlight Keywords Previewer: Base Previewer: Color Previewer: Gradient Previewer: Easing Previewer: Time Previewer: Angle Keep markup Normalize Whitespace Вставка исходного кода из документируемых файлов В тутоарилах вы можете использовать документируемый вами код, как целого файла так отдельных блоков.Как это реализовать - читай Работа с JSDoc3 - теги @sourcefile и @sourcecode Данные опции НЕ доступны в разделах документации html и sass Вставка изображений В каждой директории туториалов есть папка assets/. Все файлы с этой директории будут переброшены в сответствующую папку доки, с сохранением относительных путей. Можно использовать эту директорию для хранения и использования изображений &lt;p class=&quot;_align-center&quot;&gt; &lt;img src=&quot;./assets/no-avatar.png&quot; alt=&quot;&quot;&gt; &lt;/p&gt; Для изображений с альфа-каналом можно использовать доп класс &lt;p class=&quot;_align-center&quot;&gt; &lt;img class=&quot;alpha&quot; src=&quot;./assets/alpha.png&quot; alt=&quot;&quot;&gt; &lt;/p&gt; Создание дочерних туториалов Для создания дочерних туториалов - нужны только отдельные html файлы, без json'ов. Для создание связей и заголовков - нужно это все указать в json файле родительского туториала { &quot;cool-tut&quot;: { &quot;title&quot;: &quot;Мой крутой туториал&quot;, &quot;children&quot;: { &quot;childNameA&quot;: { &quot;title&quot;: &quot;Child A&quot; }, &quot;childNameB&quot;: { &quot;title&quot;: &quot;Child B&quot; } } }, &quot;new-cool-tut&quot;: { &quot;title&quot;: &quot;Еще один классный туториал&quot; } } Ссылки на дочерние туториалы будут видны только в теле родительского, в начале описания. В общем списке туториалов их нее будет Предложения и баги Все обнаруженные баги, проблемы, фиксы, а также предложения по Стартовому шаблону - отписывать в трекере основного репозитория шаблона. Четко, аргументировано и развернуто. https://bitbucket.org/wezom/wtpl/issues × Результат поиска Закрыть Документация сгенерирована модулем JSDoc 3.4.0 September 2nd 2016 - на основе DocStrap template и пользовательских дополнений v1.0.0 "}}
	</script>

	<script type="text/javascript">
		$(document).ready(function() {
			Searcher.init();
		});

		$(window).on("message", function(msg) {
			var msgData = msg.originalEvent.data;

			if (msgData.msgid != "docstrap.quicksearch.start") {
				return;
			}

			var results = Searcher.search(msgData.searchTerms);

			window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
		});
	</script>
</body>
</html>
