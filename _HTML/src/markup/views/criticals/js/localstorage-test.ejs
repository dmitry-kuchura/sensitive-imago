!function(win){function testLocal(testKey){try{return localStorage.setItem(testKey,testKey),localStorage.removeItem(testKey),!0}catch(e){return!1}}win.localSupport=testLocal("test-key"),win.localWrite=function(key,val){try{localStorage.setItem(key,val)}catch(e){if(e==QUOTA_EXCEEDED_ERR)return!1}}}(window);